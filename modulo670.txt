local d=os.date("*t")
if d.year==2026 and d.month==2 and d.day==15 then return end
print("The script runs normally, mod")
local module = {}
if not game:IsLoaded() then
game.Loaded:Wait()
end
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local TweenService = game:GetService("TweenService")
local SoundService = game:GetService("SoundService")
local HttpService = game:GetService("HttpService")
local request = http_request or request or syn and syn.request or http and http.request
if not request then warn("Request not available") end
local cloneref = cloneref or function(obj) return obj end
local coreGui = gethui and gethui() or (syn and syn.protect_gui and syn.protect_gui(game:GetService("CoreGui")) or game:GetService("CoreGui"))
function protectGui(gui)
if syn and syn.protect_gui then
syn.protect_gui(gui)
elseif protectgui then
protectgui(gui)
end
end
function addCorner(instance, radius)
local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, radius)
corner.Parent = instance
end
local function clickSound()
    local sound = Instance.new("Sound")
    sound.SoundId = "rbxassetid://101735926591481"
    sound.Parent = game:GetService("CoreGui")
    sound:Play()
end
function protectAncestry(gui)
gui.AncestryChanged:Connect(function(_, parent)
if not parent then
gui.Parent = coreGui
end
end)
end
local function loadTheme()
    local defaultTheme = {
        redondoContenedor = 3,
        TransparenciaContenedordelElementos = 0.5,
        TamanoContenedor = UDim2.new(1, 0, 0, 43),
        TransparenciaContenedor = .3,
        FrameContenedor = Color3.fromRGB(15,15,15),
        bordes = Color3.fromRGB(30,30,30),
        bordecuadro = Color3.fromRGB(50,50,50),
        main = Color3.fromRGB(65,65,65),
        ColorContenedordelElementos = Color3.fromRGB(85,85,85),
        textcolor = Color3.fromRGB(255, 255, 255)
    }
    
    local themeUrl = "https://raw.githubusercontent.com/CapybaraScript/Deluxe-list/refs/heads/main/theme.json"
    
    local success, response = pcall(function()
        return request({Url = themeUrl, Method = "GET"})
    end)
    
    if success and response and response.Body then
        local success2, themeData = pcall(function()
            return HttpService:JSONDecode(response.Body)
        end)
        
        if success2 and type(themeData) == "table" then
            local colorProperties = {"FrameContenedor", "bordes", "bordecuadro", "main", "ColorContenedordelElementos", "textcolor"}
            
            for _, prop in ipairs(colorProperties) do
                if themeData[prop] then
                    local colorStr = themeData[prop]
                    if type(colorStr) == "string" then
                        local r, g, b = colorStr:match("Color3%.fromRGB%((%d+),(%d+),(%d+)%)")
                        if r and g and b then
                            themeData[prop] = Color3.fromRGB(tonumber(r), tonumber(g), tonumber(b))
                        else
                            r, g, b = colorStr:match("(%d+),(%d+),(%d+)")
                            if r and g and b then
                                themeData[prop] = Color3.fromRGB(tonumber(r), tonumber(g), tonumber(b))
                            else
                                themeData[prop] = defaultTheme[prop]
                            end
                        end
                    elseif type(colorStr) == "table" then
                        if colorStr.R and colorStr.G and colorStr.B then
                            themeData[prop] = Color3.fromRGB(colorStr.R, colorStr.G, colorStr.B)
                        elseif colorStr.r and colorStr.g and colorStr.b then
                            themeData[prop] = Color3.fromRGB(colorStr.r, colorStr.g, colorStr.b)
                        end
                    end
                else
                    themeData[prop] = defaultTheme[prop]
                end
            end
            
            if themeData.TamanoContenedor and type(themeData.TamanoContenedor) == "string" then
                local xScale, xOffset, yScale, yOffset = themeData.TamanoContenedor:match("UDim2%.new%(([%d%.]+),%s*(%-?%d+),%s*([%d%.]+),%s*(%-?%d+)%)")
                if xScale and xOffset and yScale and yOffset then
                    themeData.TamanoContenedor = UDim2.new(tonumber(xScale), tonumber(xOffset), tonumber(yScale), tonumber(yOffset))
                else
                    themeData.TamanoContenedor = defaultTheme.TamanoContenedor
                end
            elseif not themeData.TamanoContenedor then
                themeData.TamanoContenedor = defaultTheme.TamanoContenedor
            end
            
            local numericProps = {"redondoContenedor", "TransparenciaContenedordelElementos", "TransparenciaContenedor"}
            for _, prop in ipairs(numericProps) do
                if not themeData[prop] then
                    themeData[prop] = defaultTheme[prop]
                end
            end
            
            return themeData
        end
    end
    
    warn("Failed to load theme from URL, using default theme")
    return defaultTheme
end
local theme = loadTheme()
local sizeW, sizeH = 570, 340
getgenv().request = http_request or request or syn.request or http.request
if not getgenv().request then return warn("Request not available") end
local res = getgenv().request({
Url = "https://raw.githubusercontent.com/CapybaraScript/Deluxe-list/refs/heads/main/Access%3F",
Method = "GET"
})
if res and res.Body then
local body = res.Body:lower()
if body:find("false") then
print("ops, update...")
return
end
end
game:GetService("CoreGui"):GetChildren()
local function cpy(parent)
    for _, child in pairs(parent:GetChildren()) do
        if child:IsA("ImageButton") then
            local sizes = {30,45,60}
            local borderColors = {Color3.fromRGB(65,169,255), Color3.fromRGB(55,219,69), Color3.fromRGB(125,65,255)}
            for _, size in pairs(sizes) do
                if child.Size.X.Offset == size and child.Size.Y.Offset == size then
                    for _, border in pairs(child:GetChildren()) do
                        if border:IsA("UIStroke") then
                            for _, color in pairs(borderColors) do
                                if border.Color == color then
                                    child.Image = "rbxthumb://type=Asset&id=115825498626053&w=150&h=150"
                                    child.ImageTransparency = 0.5
                                    child.BackgroundTransparency = 1
                                    border.Color = Color3.fromRGB(30,30,30)
                                end
                            end
                        end
                    end
                end
            end
        end
        cpy(child)
    end
end
cpy(game:GetService("CoreGui"))
local function getScreenScale()
    local viewportSize = workspace.CurrentCamera.ViewportSize
    return math.min(viewportSize.X, viewportSize.Y) / 400
end
local deluxeUrl = "https://raw.githubusercontent.com/CapybaraScript/Deluxe-list/refs/heads/main/Deluxe"
function module:getDeluxeList()
local ok, res = pcall(function()
return request({Url = deluxeUrl, Method = "GET"})
end)
if not (ok and res and res.Body) then
warn("Failed to fetch deluxe list")
return {}
end
local func, err = loadstring(res.Body)
if not func then
warn("Failed to load deluxe list: " .. tostring(err))
return {}
end
local ok2, list = pcall(func)
if not ok2 or type(list) ~= "table" then
warn("Failed to execute deluxe list")
return {}
end
return list
end
function protectedFunction(func)
return newcclosure(function(...)
if not checkcaller() then return end
return func(...)
end)
end
function module:CreateUI(title, description, allowedUserIds)
local HttpService = game:GetService("HttpService")  
local screenScale = getScreenScale()
local Players = game:GetService("Players")  
local LocalPlayer = Players.LocalPlayer  
    local folderName = tostring(title)  
    local fileName = tostring(LocalPlayer.UserId) .. "_Config.json"  
    local fullPath = folderName .. "/" .. fileName  
    if not isfolder(folderName) then  
        makefolder(folderName)  
    end  
    getgenv().configFileName = fullPath  
    getgenv().saveConfig = function(stateTable)  
        writefile(getgenv().configFileName, HttpService:JSONEncode(stateTable))  
    end  
    local cachedConfig  
    getgenv().loadConfig = function()  
        if cachedConfig then  
            return cachedConfig  
        end  
        if isfile(getgenv().configFileName) then  
            local data = HttpService:JSONDecode(readfile(getgenv().configFileName))  
            if type(data) == "table" then  
                cachedConfig = data  
                return data  
            end  
        end  
        cachedConfig = {}  
        return {}  
    end  
    getgenv().deleteConfig = function()  
        if isfile(getgenv().configFileName) then  
            delfile(getgenv().configFileName)  
        end  
        cachedConfig = {}  
    end  
    getgenv().savedConfig = getgenv().loadConfig()
self.allowedUserIds = type(allowedUserIds) == "table" and allowedUserIds or {}
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "FoundationOverlay"
ScreenGui.Parent = coreGui
protectGui(ScreenGui)
protectAncestry(ScreenGui)
local Sound = Instance.new("Sound", SoundService)
Sound.SoundId = "rbxassetid://9120129807"
Sound:Play()
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 40 * screenScale, 0, 40 * screenScale)
    MainFrame.Position = UDim2.new(1, 50 * screenScale, 0.5, -20 * screenScale)
MainFrame.BackgroundColor3 = theme.ColorContenedordelElementos
MainFrame.BorderSizePixel = 0
MainFrame.Parent = ScreenGui
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.BackgroundTransparency = .6
local ResizeHandle = Instance.new("Frame")
ResizeHandle.Size = UDim2.new(0, 18, 0, 18)
ResizeHandle.AnchorPoint = Vector2.new(1, 1)
ResizeHandle.Position = UDim2.new(1, 0, 1, 0)
ResizeHandle.BackgroundColor3 = theme.ColorContenedordelElementos
ResizeHandle.BorderSizePixel = 0
ResizeHandle.ZIndex = 999999
ResizeHandle.BackgroundTransparency = 0.7
ResizeHandle.Parent = MainFrame
ResizeHandle.Active = true
local UIS = game:GetService("UserInputService")
local resizing = false
local startPos
local startSize
ResizeHandle.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1
	or input.UserInputType == Enum.UserInputType.Touch then
		resizing = true
		startPos = UIS:GetMouseLocation()
		startSize = Vector2.new(MainFrame.Size.X.Offset, MainFrame.Size.Y.Offset)
	end
end)
ResizeHandle.InputEnded:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1
	or input.UserInputType == Enum.UserInputType.Touch then
		resizing = false
	end
end)
UIS.InputChanged:Connect(function(input)
	if resizing and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
		local delta = UIS:GetMouseLocation() - startPos
		MainFrame.Size = UDim2.new(0, math.max(100, startSize.X + delta.X), 0, math.max(60, startSize.Y + delta.Y))
	end
end)
local TopBar = Instance.new("Frame")
TopBar.Size = UDim2.new(1, -10 * screenScale, 0, 35 * screenScale)
    TopBar.Position = UDim2.new(0, 5 * screenScale, 0, 5 * screenScale)
TopBar.BackgroundColor3 = theme.bordes
TopBar.BorderSizePixel = 0
TopBar.BackgroundTransparency = .2
TopBar.ZIndex = 10
TopBar.Parent = MainFrame
addCorner(TopBar, 5)
-- self.searchFunctionality = module.addSearchFunctionality(TopBar, Container, TabsContainer)
local borderFrame = Instance.new("Frame")
borderFrame.Size = UDim2.new(1, 0, 1, 0)
borderFrame.Position = UDim2.new(0, 0, 0, 0)
borderFrame.BackgroundTransparency = 1
borderFrame.ZIndex = TopBar.ZIndex + 1
borderFrame.Parent = TopBar
addCorner(borderFrame, 5)
local borderStroke = Instance.new("UIStroke")
borderStroke.Thickness = 2
borderStroke.Color = theme.bordecuadro
borderStroke.Parent = borderFrame
addCorner(borderFrame, theme.redondoContenedor)
addCorner(tabButton, 5)
local BgImage = Instance.new("ImageLabel")
BgImage.Size = UDim2.new(1, 0, 1, 0)
BgImage.Position = UDim2.new(0, 0, 0, 0)
BgImage.Image = "rbxassetid://"
BgImage.BackgroundTransparency = 1
BgImage.ImageTransparency =  .7
BgImage.ZIndex = -1
BgImage.Parent = MainFrame
addCorner(BgImage, 7)
addCorner(MainFrame, 7)
local TitleLabel = Instance.new("TextLabel")
TitleLabel.Size = UDim2.new(0, 100, 1, 0)
TitleLabel.Position = UDim2.new(0.5, -75, 0, 0)
TitleLabel.BackgroundTransparency = 1
TitleLabel.Text = title
TitleLabel.ZIndex = 11
TitleLabel.RichText = true
TitleLabel.TextSize = 15
TitleLabel.TextColor3 = theme.textcolor
TitleLabel.Font = Enum.Font.Gotham
TitleLabel.TextXAlignment = Enum.TextXAlignment.Center
TitleLabel.Visible = true
TitleLabel.Parent = TopBar
local DescriptionLabel = Instance.new("TextLabel")
DescriptionLabel.Size = UDim2.new(0, 150, 1, 0)
DescriptionLabel.Position = UDim2.new(0.5, 30, 0, 0)
DescriptionLabel.BackgroundTransparency = 1
DescriptionLabel.Text = description
DescriptionLabel.TextSize = 13
DescriptionLabel.ZIndex = 11
DescriptionLabel.RichText = true
DescriptionLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
DescriptionLabel.Font = Enum.Font.Gotham
DescriptionLabel.TextXAlignment = Enum.TextXAlignment.Center
DescriptionLabel.Visible = true
DescriptionLabel.Parent = TopBar
local tweenInfo1 = TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
local tween1 = TweenService:Create(MainFrame, tweenInfo1, {
        Position = UDim2.new(0.5, -20 * screenScale, 0.5, -20 * screenScale),
        Size = UDim2.new(0, 40 * screenScale, 0, 40 * screenScale)
    })
tween1:Play()
tween1.Completed:Connect(function()
local tweenInfo2 = TweenInfo.new(0.4, Enum.EasingStyle.Back, Enum.EasingDirection.Out)
local tween2 = TweenService:Create(MainFrame, tweenInfo2, {
        Size = UDim2.new(0, sizeW * screenScale, 0, sizeH * screenScale),
        Position = UDim2.new(0.5, -sizeW/2 * screenScale, 0.5, -sizeH/2 * screenScale - 30 * screenScale)
    })
tween2:Play()
end)
protectAncestry(MainFrame)
local protectedFrame = cloneref(MainFrame)
self.DoSomething = protectedFunction(function()
print(" protegida ejecutada")
end)
local border = Instance.new("UIStroke")
border.Parent = MainFrame
border.Thickness = 3
border.Color = theme.bordes
border.Transparency = 0.3
local coreGui = game:GetService("CoreGui")
local UserInputService = game:GetService("UserInputService")
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "FoundationOverlay"
screenGui.Parent = coreGui
local screenScale = getScreenScale()
local button = Instance.new("TextButton")
button.Size = UDim2.new(0, 45 * screenScale, 0, 45 * screenScale)
button.Position = UDim2.new(0.14, -64 * screenScale, 0.1, 34 * screenScale)
button.BackgroundTransparency = 1
button.BorderSizePixel = 0
button.BackgroundColor3 = theme.bordes
button.Text = "CAPY"
button.Parent = screenGui
button.TextColor3 = Color3.new(1,1,1)
button.Font = Enum.Font.Arcade
button.Draggable = true
local btnBorderFrame = Instance.new("Frame")
	btnBorderFrame.Size = UDim2.new(1, 0, 1, 0)
	btnBorderFrame.BackgroundTransparency = 1
	btnBorderFrame.ZIndex = button.ZIndex - 1
	btnBorderFrame.Parent = button
	local btnStroke = Instance.new("UIStroke")
btnStroke.Transparency = 0.5
	btnStroke.Thickness = 2
	btnStroke.Color = theme.FrameContenedor
	btnStroke.Parent = btnBorderFrame
	addCorner(btnBorderFrame, theme.redondoContenedor)
local clickSound = Instance.new("Sound")
clickSound.SoundId = "rbxassetid://101735926591481"
clickSound.Parent = button
local isActive = true
local function getMainFramePosition()
    local currentScreenScale = getScreenScale()
    return UDim2.new(0.5, -sizeW/2 * currentScreenScale, 0.5, -sizeH/2 * currentScreenScale - 30 * currentScreenScale)
end

local function getMainFrameSmallPosition()
    local currentScreenScale = getScreenScale()
    return UDim2.new(0.5, -20 * currentScreenScale, 0.5, -20 * currentScreenScale)
end

local function getMainFrameSize()
    local currentScreenScale = getScreenScale()
    return UDim2.new(0, sizeW * currentScreenScale, 0, sizeH * currentScreenScale)
end

function toggleButton()
    isActive = not isActive
    clickSound:Play()
    
    if isActive then
        MainFrame.Visible = true
        MainFrame.Position = getMainFramePosition()
    else
        MainFrame.Visible = false
    end
end

button.MouseButton1Click:Connect(toggleButton)
UserInputService.InputBegan:Connect(function(input, processed)
    if not processed and input.KeyCode == Enum.KeyCode.LeftControl then
        toggleButton()
    end
end)
local TabsContainer = Instance.new("ScrollingFrame")
TabsContainer.Size = UDim2.new(0.3, 0, 1, -41)
TabsContainer.Position = UDim2.new(0.7, 0, 0, 41)
TabsContainer.BackgroundColor3 = Color3.fromRGB(0, 50, 0)
TabsContainer.BorderSizePixel = 0
TabsContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
TabsContainer.ScrollBarThickness = 0
TabsContainer.Parent = MainFrame
TabsContainer.BackgroundTransparency = 1
addCorner(TabsContainer, 5)
local Padding = Instance.new("UIPadding")
Padding.PaddingTop = UDim.new(0, 6)
Padding.PaddingLeft = UDim.new(0, 4)
Padding.Parent = TabsContainer
local TabsListLayout = Instance.new("UIListLayout")
TabsListLayout.SortOrder = Enum.SortOrder.LayoutOrder
TabsListLayout.Padding = UDim.new(0, 8)
TabsListLayout.Parent = TabsContainer
local padding = Instance.new("UIPadding")
padding.PaddingLeft = UDim.new(0, 4)
padding.PaddingRight = UDim.new(0, 4)
padding.Parent = TabsContainer
TabsListLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
TabsContainer.CanvasSize = UDim2.new(0, 0, 0, TabsListLayout.AbsoluteContentSize.Y)
end)
local Container = Instance.new("Frame")
Container.Size = UDim2.new(0.7, 0, 1, -30)
Container.Position = UDim2.new(0, 0, 0, 33)
Container.BackgroundColor3 = Color3.fromRGB(0.1, 140, 0)
Container.BorderSizePixel = 0
Container.Parent = MainFrame
Container.BackgroundTransparency = 1
addCorner(Container, 5)
local allowedUserIds = type(getDeluxeList) == "function" and getDeluxeList() or {}
if type(allowedUserIds) ~= "table" then
allowedUserIds = {}
end
local player = game.Players.LocalPlayer
function isPlayerDeluxe(plr)
for _, id in ipairs(allowedUserIds) do
if plr.UserId == id then
return true
end
end
return false
end
local Tab = {TabsContainer = TabsContainer, Container = Container}
function animateFloating(icon)
task.spawn(function()
while icon:GetAttribute("Selected") do
local up = TweenService:Create(icon, TweenInfo.new(0.8, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut), {Position = icon.Position + UDim2.new(0, 0, 0, -5)})
up:Play()
up.Completed:Wait()
local down = TweenService:Create(icon, TweenInfo.new(0.8, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut), {Position = icon.Position + UDim2.new(0, 0, 0, 5)})
down:Play()
down.Completed:Wait()
end
end)
end
function animateVibration(icon)
task.spawn(function()
while not icon:GetAttribute("Selected") do
for i = 1, 4 do
local left = TweenService:Create(icon, TweenInfo.new(0.1, Enum.EasingStyle.Linear), {Rotation = -10})
left:Play()
left.Completed:Wait()
local right = TweenService:Create(icon, TweenInfo.new(0.1, Enum.EasingStyle.Linear), {Rotation = 10})
right:Play()
right.Completed:Wait()
local center = TweenService:Create(icon, TweenInfo.new(0.1, Enum.EasingStyle.Linear), {Rotation = 0})
center:Play()
center.Completed:Wait()
end
task.wait(2.5)
end
end)
end
function Tab:AddTab(requireDeluxe, imageId, tabName, imageColor)
local tabButton = Instance.new("TextButton")
tabButton.Size = UDim2.new(1, -9, 0, 55)
tabButton.Text = ""
tabButton.Font = Enum.Font.Gotham
tabButton.TextSize = 15
tabButton.BackgroundColor3 = theme.FrameContenedor
tabButton.TextColor3 = theme.textcolor
tabButton.BackgroundTransparency = 0.4
tabButton.Parent = self.TabsContainer
local textColor = theme.textcolor
if requireDeluxe then
textColor = Color3.fromRGB(243, 156, 18)
end
local icon
local texto
if imageId and imageId ~= "" then
icon = Instance.new("ImageLabel")
icon.Size = UDim2.new(0, 30, 0, 30)
icon.Position = UDim2.new(0, 8, 0.5, -15)
icon.BackgroundTransparency = 1
icon.Image = "rbxassetid://" .. tostring(imageId)
icon.ImageColor3 = imageColor or theme.textcolor
icon.ZIndex = tabButton.ZIndex + 1
icon.Parent = tabButton
icon:SetAttribute("Selected", false)
texto = Instance.new("TextLabel")
texto.Size = UDim2.new(1, -35, 1, 0)
texto.Position = UDim2.new(0, 47, 0, 0)
texto.BackgroundTransparency = 1
texto.Text = tabName
texto.TextColor3 = textColor
texto.Font = Enum.Font.Gotham
texto.TextSize = 12
texto.TextXAlignment = Enum.TextXAlignment.Left
texto.ZIndex = tabButton.ZIndex + 1
texto.Parent = tabButton
animateVibration(icon)
else
tabButton.Text = tabName
tabButton.TextColor3 = textColor
tabButton.TextXAlignment = Enum.TextXAlignment.Center
end
local borderFrame = Instance.new("Frame")
borderFrame.Size = UDim2.new(1, 0, 1, 0)
borderFrame.Position = UDim2.new(0, 0, 0, 0)
borderFrame.BackgroundTransparency = 1
borderFrame.ZIndex = tabButton.ZIndex + 1
borderFrame.Parent = tabButton
addCorner(borderFrame, theme.redondoContenedor)
local borderStroke = Instance.new("UIStroke")
borderStroke.Thickness = 2
borderStroke.Transparency = 0.3
borderStroke.Color = theme.bordecuadro
borderStroke.Parent = borderFrame
addCorner(borderFrame, theme.redondoContenedor)
addCorner(tabButton, theme.redondoContenedor)
local indicador = Instance.new("Frame")
indicador.Name = "Indicador"
indicador.Size = UDim2.new(0, 4, 1, 0)
indicador.Position = UDim2.new(0, 0, 0, 0)
indicador.BackgroundColor3 = theme.ColorContenedordelElementos
indicador.Visible = false
indicador.ZIndex = tabButton.ZIndex + 5
indicador.Parent = tabButton
addCorner(indicador, 3)
local tabFrame = Instance.new("Frame")
tabFrame.Size = UDim2.new(1, 0, 1, -17)
tabFrame.Position = UDim2.new(0, 0, 0, 1)
tabFrame.BackgroundColor3 = Color3.fromRGB(0, 140, 0)
tabFrame.BackgroundTransparency = 1
tabFrame.Visible = false
tabFrame.Parent = self.Container
addCorner(tabFrame, 5)
local frameScroll = Instance.new("ScrollingFrame")
frameScroll.Size = UDim2.new(1, -10, 1, 4)
frameScroll.Position = UDim2.new(0, 4, 0, 5)
frameScroll.CanvasSize = UDim2.new(0, 0, 0, 0)
frameScroll.ScrollBarThickness = 0
frameScroll.BackgroundColor3 = Color3.fromRGB(0, 140, 0)
frameScroll.BackgroundTransparency = 1
frameScroll.ScrollingDirection = Enum.ScrollingDirection.Y
frameScroll.Parent = tabFrame
addCorner(frameScroll, 5)
local buttonLayout = Instance.new("UIListLayout")
buttonLayout.Padding = UDim.new(0, 8)
buttonLayout.SortOrder = Enum.SortOrder.LayoutOrder
buttonLayout.Parent = frameScroll
local padding = Instance.new("UIPadding")
padding.PaddingLeft = UDim.new(0, 4)
padding.PaddingRight = UDim.new(0, 4)
padding.PaddingTop = UDim.new(0, 8)
padding.Parent = frameScroll
buttonLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
frameScroll.CanvasSize = UDim2.new(0, 0, 0, buttonLayout.AbsoluteContentSize.Y)
end)
local colorTweenInfo = TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut)
tabButton.MouseEnter:Connect(function()
TweenService:Create(tabButton, colorTweenInfo, {BackgroundColor3 = theme.FrameContenedor}):Play()
end)
tabButton.MouseLeave:Connect(function()
if not tabFrame.Visible then
TweenService:Create(tabButton, colorTweenInfo, {BackgroundColor3 = theme.FrameContenedor}):Play()
end
end)
tabButton.MouseButton1Click:Connect(function()
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
if requireDeluxe
and type(isPlayerDeluxe) == "function"
and type(allowedUserIds) == "table"
and #allowedUserIds > 0
and not isPlayerDeluxe(LocalPlayer) then
return
end
if tabFrame.Visible then
return
end
local sonido = Instance.new("Sound")
sonido.SoundId = "rbxassetid://101735926591481"
sonido.Volume = 1
sonido.Parent = tabButton
sonido:Play()
sonido.Ended:Connect(function()
sonido:Destroy()
end)
for _, frame in pairs(self.Container:GetChildren()) do
if frame:IsA("Frame") then
frame.Visible = false
end
end
for _, button in pairs(self.TabsContainer:GetChildren()) do
if button:IsA("TextButton") then
local indicadorFrame = button:FindFirstChild("Indicador")
local otherIcon = button:FindFirstChildWhichIsA("ImageLabel")
if indicadorFrame then
indicadorFrame.Visible = false
end
if otherIcon then
otherIcon:SetAttribute("Selected", false)
otherIcon.Rotation = 0
animateVibration(otherIcon)
end
end
end
indicador.Visible = true
tabFrame.Visible = true
if icon then
icon:SetAttribute("Selected", true)
icon.Rotation = 0
animateFloating(icon)
end
tabButton.AnchorPoint = Vector2.new(0.5, 0.5)
tabButton.Position = UDim2.new(0.5, 0, 0.5, 0)
local popIn = TweenService:Create(tabButton, TweenInfo.new(0.15, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {Size = UDim2.new(1, -5, 0, 55)})
local popOut = TweenService:Create(tabButton, TweenInfo.new(0.15, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Size = UDim2.new(1, -9, 0, 55)})
popIn:Play()
popIn.Completed:Connect(function() popOut:Play() end)
end)
if not self.FirstTab then
self.FirstTab = true
tabFrame.Visible = true
indicador.Visible = true
tabButton.BackgroundColor3 = theme.FrameContenedor
if icon then
icon:SetAttribute("Selected", true)
animateFloating(icon)
end
end
return frameScroll
end
return Tab
end
function module.addButton(container, buttonText, descriptionText, callback, premiumOnly, extraText, showWarning, showHelpButton)
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local TweenService = game:GetService("TweenService")
function isPlayerDeluxe(plr)
for _, id in ipairs(getgenv().allowedUserIds or {}) do
if plr.UserId == id then
return true
end
end
return false
end
local button = Instance.new("TextButton")
button.Size = theme.TamanoContenedor
button.Text = buttonText
button.TextSize = 12
button.BackgroundTransparency = theme.TransparenciaContenedor
button.Font = Enum.Font.Gotham
button.RichText = true
button.BackgroundColor3 = theme.FrameContenedor
button.TextColor3 = theme.textcolor
button.Parent = container
addCorner(button, theme.redondoContenedor)
local borderFrame = Instance.new("Frame")
borderFrame.Size = UDim2.new(1, 0, 1, 0)
borderFrame.BackgroundTransparency = 1
borderFrame.ZIndex = button.ZIndex + 1
borderFrame.Parent = button
local borderStroke = Instance.new("UIStroke")
borderStroke.Thickness = 2
borderStroke.Color = theme.bordecuadro
borderStroke.Parent = borderFrame
addCorner(borderFrame, theme.redondoContenedor)
local label = Instance.new("TextLabel")
label.Size = UDim2.new(1, -10, 0, 20)
label.Position = UDim2.new(0, 0, 0, button.TextBounds.Y + 10)
label.Text = descriptionText or ""
label.TextSize = 9
label.Font = Enum.Font.Gotham
label.BackgroundTransparency = 1
label.TextColor3 = theme.textcolor
label.Parent = button
local originalColor = button.BackgroundColor3
local tweenInfo = TweenInfo.new(0.15, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
local tweenToHighlight = TweenService:Create(button, tweenInfo, {BackgroundColor3 = theme.textcolor})
local tweenToOriginal = TweenService:Create(button, tweenInfo, {BackgroundColor3 = originalColor})
local popup = Instance.new("Frame")
popup.Size = UDim2.new(1, 0, 0, 110)
popup.Position = UDim2.new(0, 0, 1, 5)
popup.BackgroundColor3 = theme.FrameContenedor
popup.Visible = false
popup.Parent = container
addCorner(popup, 6)
local popupText = Instance.new("TextLabel")
popupText.Size = UDim2.new(1, -20, 0, 50)
popupText.Position = UDim2.new(0, 10, 0, 10)
popupText.Text = extraText or "Aquí puedes poner tu texto"
popupText.TextSize = 12
popupText.Font = Enum.Font.Gotham
popupText.BackgroundTransparency = 1
popupText.TextColor3 = theme.textcolor
popupText.TextWrapped = true
popupText.Parent = popup
local yesButton = Instance.new("TextButton")
yesButton.Size = UDim2.new(0, 60, 0, 25)
yesButton.Position = UDim2.new(0, 10, 1, -35)
yesButton.Text = "Yes"
yesButton.TextSize = 12
yesButton.BackgroundColor3 = theme.FrameContenedor
yesButton.TextColor3 = theme.textcolor
yesButton.Visible = false
yesButton.Parent = popup
addCorner(yesButton, 4)
yesButton.MouseButton1Click:Connect(function()
popup.Visible = false
callback()
end)
local nevermindButton = Instance.new("TextButton")
nevermindButton.Size = UDim2.new(0, 80, 0, 25)
nevermindButton.Position = UDim2.new(0, 80, 1, -35)
nevermindButton.Text = "Nevermind"
nevermindButton.TextSize = 12
nevermindButton.BackgroundColor3 = theme.FrameContenedor
nevermindButton.TextColor3 = theme.textcolor
nevermindButton.Visible = false
nevermindButton.Parent = popup
addCorner(nevermindButton, 4)
nevermindButton.MouseButton1Click:Connect(function()
popup.Visible = false
end)
function onButtonClick()
if premiumOnly and not isPlayerDeluxe(player) then
player:Kick("Access denied: You're not authorized to use this feature.")
return
end
tweenToHighlight:Play()
tweenToHighlight.Completed:Wait()
tweenToOriginal:Play()
local sound = Instance.new("Sound")
sound.SoundId = "rbxassetid://101735926591481"
sound.Volume = 0.5
sound.PlayOnRemove = true
sound.Parent = button
sound:Destroy()
if showWarning then
popupText.Text = "¿Surely you want to activate this option?"
yesButton.Visible = true
nevermindButton.Visible = true
popup.Visible = true
else
callback()
end
end
button.MouseButton1Click:Connect(onButtonClick)
if showHelpButton then
local smallButton = Instance.new("TextButton")
smallButton.Size = UDim2.new(0, 20, 0, 20)
smallButton.Position = UDim2.new(1, -5, 0, 5)
smallButton.AnchorPoint = Vector2.new(1,0)
smallButton.Text = "?"
smallButton.TextSize = 12
smallButton.BackgroundColor3 = theme.FrameContenedor
smallButton.TextColor3 = theme.textcolor
smallButton.Parent = button
addCorner(smallButton, 4)
smallButton.MouseButton1Click:Connect(function()
popupText.Text = extraText or ""
yesButton.Visible = false
nevermindButton.Visible = false
popup.Visible = not popup.Visible
end)
end
local label = button:FindFirstChildOfClass("TextLabel")
return button, label
end
function isPlayerDeluxe(player)
for _, id in ipairs(getgenv().allowedUserIds or {}) do
if player.UserId == id then
return true
end
end
return false
end
function module.addToggle(container, labelText, descriptionText, defaultState, callback, premiumOnly, extraText, showWarning, showHelpButton)
    local Players = game:GetService("Players")
    local TweenService = game:GetService("TweenService")
    local player = Players.LocalPlayer

    local function isPlayerDeluxe(plr)
        for _, id in ipairs(getgenv().allowedUserIds or {}) do
            if plr and plr.UserId == id then
                return true
            end
        end
        return false
    end

    local configKey = labelText:gsub("%s+", "_"):gsub("[^%w_]", ""):lower()
    local savedState = getgenv().savedConfig[configKey]
    if savedState ~= nil then
        defaultState = savedState
    end

    local toggleFrame = Instance.new("Frame")
    toggleFrame.Size = theme.TamanoContenedor
    toggleFrame.BackgroundColor3 = theme.FrameContenedor
    toggleFrame.Parent = container
    toggleFrame.BackgroundTransparency = theme.TransparenciaContenedor
    addCorner(toggleFrame, theme.redondoContenedor)

    local borderStroke = Instance.new("UIStroke")
    borderStroke.Thickness = 2
    borderStroke.Color = theme.bordecuadro
    borderStroke.Parent = toggleFrame

    addCorner(borderFrame, theme.redondoContenedor)
    local toggleLabel = Instance.new("TextLabel")
    toggleLabel.Size = UDim2.new(1, -60, 1, 0)
    toggleLabel.Position = UDim2.new(0, 10, 0, 0)
    toggleLabel.Text = labelText
    toggleLabel.TextSize = 13
    toggleLabel.RichText = true
    toggleLabel.Font = Enum.Font.Gotham
    toggleLabel.TextColor3 = theme.textcolor
    toggleLabel.BackgroundTransparency = 1
    toggleLabel.TextXAlignment = Enum.TextXAlignment.Left
    toggleLabel.Parent = toggleFrame

    local isDeluxeToggle = false
    if premiumOnly then
        isDeluxeToggle = true
        local deluxeLabel = Instance.new("TextLabel")
        deluxeLabel.Size = UDim2.new(0, 50, 0, 15)
        deluxeLabel.Position = UDim2.new(0, 10 + toggleLabel.TextBounds.X + 10, 0.5, -7)
        deluxeLabel.Text = "Deluxe"
        deluxeLabel.TextSize = 11
        deluxeLabel.Font = Enum.Font.Gotham
        deluxeLabel.TextColor3 = Color3.fromRGB(255, 140, 0)
        deluxeLabel.BackgroundTransparency = 1
        deluxeLabel.Parent = toggleLabel
    end

    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, -10, 0, 24)
    label.Position = UDim2.new(0, 10, 0, 22)
    label.Text = descriptionText or ""
    label.TextSize = 9
    label.Font = Enum.Font.Gotham
    label.BackgroundTransparency = 1
    label.TextXAlignment = Enum.TextXAlignment.Left
    label.TextColor3 = Color3.fromRGB(200, 200, 200)
    label.Parent = toggleFrame

    local toggleButton = Instance.new("TextButton")
    toggleButton.Size = UDim2.new(0, 50, 0, 25)
    toggleButton.Position = UDim2.new(1, -88, 0.5, -15)
    toggleButton.BackgroundColor3 = theme.ColorContenedordelElementos
    toggleButton.BackgroundTransparency = 1
    toggleButton.Text = ""
    toggleButton.AutoButtonColor = false
    toggleButton.Parent = toggleFrame
    addCorner(toggleButton, theme.redondoContenedor)

    local track = Instance.new("Frame")
    track.Size = UDim2.new(1, 0, 1, 0)
    track.BackgroundColor3 = theme.ColorContenedordelElementos
    track.Parent = toggleButton
    addCorner(track, 6)

    local toggleIndicator = Instance.new("Frame")
    toggleIndicator.Size = UDim2.new(0, 20, 0, 16)
    toggleIndicator.Position = UDim2.new(0, 4, 0.5, -8)
    toggleIndicator.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    toggleIndicator.Parent = track
    addCorner(toggleIndicator, 4)

    local popup = Instance.new("Frame")
    popup.Size = UDim2.new(1, 0, 0, 110)
    popup.Position = UDim2.new(0, 0, 1, 5)
    popup.BackgroundColor3 = theme.FrameContenedor
    popup.Visible = false
    popup.Parent = container
    addCorner(popup, 6)

    local popupText = Instance.new("TextLabel")
    popupText.Size = UDim2.new(1, -20, 0, 50)
    popupText.Position = UDim2.new(0, 10, 0, 10)
    popupText.Text = extraText or ""
    popupText.TextSize = 12
    popupText.Font = Enum.Font.Gotham
    popupText.BackgroundTransparency = 1
    popupText.TextColor3 = theme.textcolor
    popupText.TextWrapped = true
    popupText.Parent = popup

    local yesButton = Instance.new("TextButton")
    yesButton.Size = UDim2.new(0, 60, 0, 25)
    yesButton.Position = UDim2.new(0, 10, 1, -35)
    yesButton.Text = "Yes"
    yesButton.TextSize = 12
    yesButton.BackgroundColor3 = theme.FrameContenedor
    yesButton.TextColor3 = theme.textcolor
    yesButton.Visible = false
    yesButton.Parent = popup
    addCorner(yesButton, 4)

    local nevermindButton = Instance.new("TextButton")
    nevermindButton.Size = UDim2.new(0, 80, 0, 25)
    nevermindButton.Position = UDim2.new(0, 80, 1, -35)
    nevermindButton.Text = "Nevermind"
    nevermindButton.TextSize = 12
    nevermindButton.BackgroundColor3 = theme.FrameContenedor
    nevermindButton.TextColor3 = theme.textcolor
    nevermindButton.Visible = false
    nevermindButton.Parent = popup
    addCorner(nevermindButton, 4)

    if showHelpButton then
        local smallButton = Instance.new("TextButton")
        smallButton.Size = UDim2.new(0, 20, 0, 20)
        smallButton.Position = UDim2.new(1, -25, 0, 5)
        smallButton.Text = "?"
        smallButton.TextSize = 12
        smallButton.BackgroundColor3 = theme.FrameContenedor
        smallButton.TextColor3 = theme.textcolor
        smallButton.Parent = toggleFrame
        addCorner(smallButton, 4)

        smallButton.MouseButton1Click:Connect(function()
            popupText.Text = extraText or ""
            yesButton.Visible = false
            nevermindButton.Visible = false
            popup.Visible = not popup.Visible
        end)
    end

    local currentState = defaultState

    local function animate(state)
        if not toggleIndicator or not toggleIndicator:IsDescendantOf(game) then return end
        
        local targetPos = state and UDim2.new(1, -19, 0.5, -8) or UDim2.new(0, 3, 0.5, -8)
        local targetColor = state and Color3.fromRGB(80, 230, 120) or Color3.fromRGB(255, 80, 80)
        local targetTrack = state and Color3.fromRGB(40, 100, 60) or Color3.fromRGB(120, 20, 20)
        
        TweenService:Create(toggleIndicator, TweenInfo.new(0.3, Enum.EasingStyle.Quint, Enum.EasingDirection.Out), {
            Position = targetPos
        }):Play()
        
        TweenService:Create(toggleIndicator, TweenInfo.new(0.3, Enum.EasingStyle.Quad), {
            BackgroundColor3 = targetColor
        }):Play()
        
        TweenService:Create(track, TweenInfo.new(0.3, Enum.EasingStyle.Quad), {
            BackgroundColor3 = targetTrack
        }):Play()
        
        toggleIndicator:TweenSize(
            UDim2.new(0, 18, 0, 18),
            Enum.EasingDirection.Out,
            Enum.EasingStyle.Quad,
            0.15,
            true,
            function()
                toggleIndicator:TweenSize(
                    UDim2.new(0, 16, 0, 16),
                    Enum.EasingDirection.In,
                    Enum.EasingStyle.Quad,
                    0.12,
                    true
                )
            end
        )
    end

    local function saveToggleState(state)
        getgenv().savedConfig[configKey] = state
        getgenv().saveConfig(getgenv().savedConfig)
        getgenv().cachedConfig = getgenv().savedConfig
    end

    local function setState(state)
        if not toggleIndicator or not toggleIndicator:IsDescendantOf(game) then return end
        
        if state and premiumOnly and not isPlayerDeluxe(player) then
            currentState = false
            animate(false)
            pcall(function() player:Kick("Access denied: You're not authorized to use this feature.") end)
            return
        end
        
        currentState = state
        animate(state)
        saveToggleState(state)
        
        if callback and type(callback) == "function" then
            pcall(function() callback(state) end)
        end
    end

    yesButton.MouseButton1Click:Connect(function()
        popup.Visible = false
        setState(not currentState)
    end)

    nevermindButton.MouseButton1Click:Connect(function()
        popup.Visible = false
    end)

    toggleButton.MouseButton1Click:Connect(function()
        if showWarning then
            popupText.Text = "Are you sure you want to enable this option?"
            yesButton.Visible = true
            nevermindButton.Visible = true
            popup.Visible = true
        else
            setState(not currentState)
        end
        
        local sonido = Instance.new("Sound")
        sonido.SoundId = "rbxassetid://101735926591481"
        sonido.Volume = 0.5
        sonido.PlayOnRemove = true
        sonido.Parent = toggleButton
        sonido:Destroy()
    end)

    setState(defaultState)

    local toggleInterface = {}
    
    function toggleInterface.setValue(state)
        setState(state)
    end
    
    function toggleInterface.setVisual(state)
        animate(state)
    end
    
    function toggleInterface.updateToggle(state)
        setState(state)
    end
    
    function toggleInterface.getValue()
        return currentState
    end
    
    function toggleInterface.resetToDefault()
        setState(defaultState)
        getgenv().savedConfig[configKey] = nil
        getgenv().saveConfig(getgenv().savedConfig)
    end
    
    return toggleInterface
end
function module.addColorPicker(container, labelText, descriptionText, defaultColor, callback)
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local configKey = labelText:gsub("%s+", "_"):gsub("[^%w_]", ""):lower() .. "_color"
local savedColor = getgenv().savedConfig[configKey]
if savedColor then
defaultColor = Color3.new(savedColor.r, savedColor.g, savedColor.b)
end
local baseHeight = 37
local expandedHeight = 190
local ColorPicker = Instance.new("Frame")
ColorPicker.Size = theme.TamanoContenedor
ColorPicker.BackgroundColor3 = theme.FrameContenedor
ColorPicker.BackgroundTransparency = theme.TransparenciaContenedor
ColorPicker.Parent = container
addCorner(ColorPicker, theme.redondoContenedor)

local border = Instance.new("Frame")
border.Size = UDim2.new(1,0,1,0)
border.BackgroundTransparency = 1
border.ZIndex = ColorPicker.ZIndex+1
border.Parent = ColorPicker
local borderStroke = Instance.new("UIStroke")
borderStroke.Thickness = 2
borderStroke.Color = theme.bordecuadro
borderStroke.Parent = border
addCorner(border, theme.redondoContenedor)

local label = Instance.new("TextLabel")
label.Size = UDim2.new(0.3,0,0,18)
label.Position = UDim2.new(0,10,0,5)
label.Text = labelText
label.TextColor3 = theme.textcolor
label.BackgroundTransparency = 1
label.TextXAlignment = Enum.TextXAlignment.Left
label.Font = Enum.Font.Gotham
label.TextSize = 14
label.Parent = ColorPicker
local labelDesc = Instance.new("TextLabel")
labelDesc.Size = UDim2.new(1,-20,0,14)
labelDesc.Position = UDim2.new(0,10,0,25)
labelDesc.Text = descriptionText or ""
labelDesc.TextSize = 9
labelDesc.Font = Enum.Font.Gotham
labelDesc.BackgroundTransparency = 1
labelDesc.TextXAlignment = Enum.TextXAlignment.Left
labelDesc.TextColor3 = theme.textcolor
labelDesc.Parent = ColorPicker
local pickerFrame = Instance.new("Frame")
pickerFrame.Size = UDim2.new(0,115,0,25)
pickerFrame.Position = UDim2.new(1, -10, 0, 5)
pickerFrame.AnchorPoint = Vector2.new(1, 0)
pickerFrame.BackgroundColor3 = defaultColor or Color3.fromRGB(0,140,0)
pickerFrame.BorderSizePixel = 2
pickerFrame.BorderColor3 = Color3.fromRGB(80,80,80)
pickerFrame.Parent = ColorPicker
addCorner(pickerFrame,6)
local openButton = Instance.new("TextButton")
openButton.Size = UDim2.new(1,0,1,0)
openButton.Text = ""
openButton.BackgroundTransparency = 1
openButton.Parent = pickerFrame
local border = Instance.new("Frame")
border.Size = UDim2.new(1,0,1,0)
border.BackgroundTransparency = 1
border.ZIndex = openButton.ZIndex+1
border.Parent = openButton
local borderStroke = Instance.new("UIStroke")
borderStroke.Thickness = 2
borderStroke.Transparency = 0.5
borderStroke.Color = theme.bordecuadro
borderStroke.Parent = border
addCorner(border, theme.redondoContenedor)
local colorWheel = Instance.new("ImageLabel")
colorWheel.Size = UDim2.new(0,120,0,120)
colorWheel.Position = UDim2.new(0,10,0,37)
colorWheel.Image = "rbxassetid://6020299385"
colorWheel.BackgroundTransparency = 1
colorWheel.ImageTransparency = 1
colorWheel.Active = true
colorWheel.Parent = ColorPicker
local colorSelector = Instance.new("Frame")
colorSelector.Size = UDim2.new(0,10,0,10)
colorSelector.BackgroundColor3 = theme.textcolor
colorSelector.BackgroundTransparency = 1
colorSelector.BorderSizePixel = 2
colorSelector.Parent = colorWheel
addCorner(colorSelector,5)
local confirmButton = Instance.new("TextButton")
confirmButton.Size = UDim2.new(0,80,0,25)
confirmButton.Position = UDim2.new(0,140,0,37)
confirmButton.Text = "Confirm"
confirmButton.Font = Enum.Font.Gotham
confirmButton.TextSize = 12
confirmButton.TextColor3 = theme.textcolor
confirmButton.BackgroundColor3 = theme.ColorContenedordelElementos
confirmButton.BorderSizePixel = 0
confirmButton.BackgroundTransparency = 1
confirmButton.TextTransparency = 1
confirmButton.Parent = ColorPicker
local btnBorderFrame = Instance.new("Frame")
	btnBorderFrame.Size = UDim2.new(1, 0, 1, 0)
	btnBorderFrame.BackgroundTransparency = 1
	btnBorderFrame.ZIndex = confirmButton.ZIndex - 1
	btnBorderFrame.Parent = confirmButton
	local btnStroke = Instance.new("UIStroke")
btnStroke.Transparency = 0.5
	btnStroke.Thickness = 2
	btnStroke.Color = theme.bordecuadro
	btnStroke.Parent = btnBorderFrame
	addCorner(btnBorderFrame, theme.redondoContenedor)
addCorner(confirmButton,5)
local rainbowButton = Instance.new("TextButton")
rainbowButton.Size = UDim2.new(0,80,0,25)
rainbowButton.Position = UDim2.new(0,140,0,75)
rainbowButton.Text = "Rainbow"
rainbowButton.Font = Enum.Font.Gotham
rainbowButton.TextSize = 12
rainbowButton.TextColor3 = theme.textcolor
rainbowButton.BackgroundColor3 = theme.ColorContenedordelElementos
rainbowButton.BorderSizePixel = 0
rainbowButton.BackgroundTransparency = 1
rainbowButton.TextTransparency = 1
rainbowButton.Parent = ColorPicker
local btnBorderFrame = Instance.new("Frame")
	btnBorderFrame.Size = UDim2.new(1, 0, 1, 0)
	btnBorderFrame.BackgroundTransparency = 1
	btnBorderFrame.ZIndex = rainbowButton.ZIndex - 1
	btnBorderFrame.Parent = rainbowButton
	local btnStroke = Instance.new("UIStroke")
btnStroke.Transparency = 0.5
	btnStroke.Thickness = 2
	btnStroke.Color = theme.bordecuadro
	btnStroke.Parent = btnBorderFrame
	addCorner(btnBorderFrame, theme.redondoContenedor)
addCorner(rainbowButton,5)
local rainbowActive = false
local rainbowConnection
local function saveColor(color)
if not color then return end
local colorTable = {
r = color.R,
g = color.G,
b = color.B
}
getgenv().savedConfig[configKey] = colorTable
getgenv().saveConfig(getgenv().savedConfig)
getgenv().cachedConfig = getgenv().savedConfig
end
colorWheel.Visible=false
colorSelector.Visible=false
confirmButton.Visible=false
rainbowButton.Visible=false
function updateColor(input)
local pos = input.Position
local rel = colorWheel.AbsolutePosition
local x = math.clamp((pos.X - rel.X)/colorWheel.AbsoluteSize.X,0,1)
local y = math.clamp((pos.Y - rel.Y)/colorWheel.AbsoluteSize.Y,0,1)
colorSelector.Position = UDim2.new(x,-5,y,-5)
local selected = Color3.fromHSV(x,1-y,1)
pickerFrame.BackgroundColor3 = selected
if callback then callback(selected) end
end
colorWheel.InputBegan:Connect(function(input)
if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
updateColor(input)
local moving
moving = game:GetService("UserInputService").InputChanged:Connect(function(m)
if m.UserInputType==Enum.UserInputType.MouseMovement or m.UserInputType==Enum.UserInputType.Touch then
updateColor(m)
end
end)
input.Changed:Connect(function()
if input.UserInputState==Enum.UserInputState.End and moving then
moving:Disconnect()
end
end)
end
end)
confirmButton.MouseButton1Click:Connect(function()
local currentColor = pickerFrame.BackgroundColor3
saveColor(currentColor)
local tweenSize = TweenService:Create(ColorPicker,TweenInfo.new(0.25,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),{Size=UDim2.new(1,0,0,baseHeight)})
local tweenWheel = TweenService:Create(colorWheel,TweenInfo.new(0.25),{ImageTransparency=1})
local tweenSelector = TweenService:Create(colorSelector,TweenInfo.new(0.25),{BackgroundTransparency=1})
local tweenConfirm = TweenService:Create(confirmButton,TweenInfo.new(0.25),{BackgroundTransparency=1,TextTransparency=1})
local tweenRainbow = TweenService:Create(rainbowButton,TweenInfo.new(0.25),{BackgroundTransparency=1,TextTransparency=1})
tweenSize:Play()
tweenWheel:Play()
tweenSelector:Play()
confirmButton.Visible=false
rainbowButton.Visible=false
tweenConfirm:Play()
tweenRainbow:Play()
tweenSize.Completed:Connect(function()
colorWheel.Visible=false
colorSelector.Visible=false
confirmButton.Visible=false
rainbowButton.Visible=false
end)
if callback then callback(currentColor) end
end)
rainbowButton.MouseButton1Click:Connect(function()
rainbowActive = not rainbowActive
rainbowButton.BackgroundColor3 = rainbowActive and Color3.fromRGB(60,0,120) or theme.ColorContenedordelElementos
if rainbowActive then
local step = 0
rainbowConnection = RunService.RenderStepped:Connect(function(dt)
step = (step+dt*0.1)%1
local color = Color3.fromHSV(step,1,1)
pickerFrame.BackgroundColor3 = color
if callback then callback(color) end
end)
else
if rainbowConnection then
rainbowConnection:Disconnect()
rainbowConnection=nil
saveColor(pickerFrame.BackgroundColor3)
end
end
end)
if savedColor and callback then
callback(defaultColor)
end
local isOpen = false
openButton.MouseButton1Click:Connect(function()
isOpen = not isOpen
colorWheel.Visible=true
colorSelector.Visible=true
confirmButton.Visible=true
rainbowButton.Visible=true
local tweenSize = TweenService:Create(ColorPicker,TweenInfo.new(0.25,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),{Size=isOpen and UDim2.new(1,0,0,expandedHeight) or UDim2.new(1,0,0,baseHeight)})
local tweenWheel = TweenService:Create(colorWheel,TweenInfo.new(0.25),{ImageTransparency=isOpen and 0 or 1})
local tweenSelector = TweenService:Create(colorSelector,TweenInfo.new(0.25),{BackgroundTransparency=isOpen and 0 or 1})
local tweenConfirm = TweenService:Create(confirmButton,TweenInfo.new(0.25),{BackgroundTransparency=isOpen and 0 or 1,TextTransparency=isOpen and 0 or 1})
local tweenRainbow = TweenService:Create(rainbowButton,TweenInfo.new(0.25),{BackgroundTransparency=isOpen and 0 or 1,TextTransparency=isOpen and 0 or 1})
tweenSize:Play()
tweenWheel:Play()
tweenSelector:Play()
tweenConfirm:Play()
tweenRainbow:Play()
if not isOpen then
tweenSize.Completed:Connect(function()
colorWheel.Visible=false
colorSelector.Visible=false
confirmButton.Visible=false
rainbowButton.Visible=false
end)
end
end)
local colorPickerInterface = {}
function colorPickerInterface.setColor(color)
if typeof(color) == "Color3" then
pickerFrame.BackgroundColor3 = color
saveColor(color)
if callback then callback(color) end
end
end
function colorPickerInterface.getColor()
return pickerFrame.BackgroundColor3
end
function colorPickerInterface.resetToDefault()
local default = defaultColor or Color3.fromRGB(0,140,0)
pickerFrame.BackgroundColor3 = default
if callback then callback(default) end
getgenv().savedConfig[configKey] = nil
getgenv().saveConfig(getgenv().savedConfig)
end
return colorPickerInterface
end
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
function module.addSlider(container, name, descriptionText, minValue, maxValue, defaultValue, callback)
local configKey = name:gsub("%s+", ""):gsub("[^%w]", ""):lower() .. "_slider"
local savedValue = getgenv().savedConfig[configKey]
if savedValue then
defaultValue = savedValue
end
local sliderFrame = Instance.new("Frame")
sliderFrame.Size = theme.TamanoContenedor
sliderFrame.BackgroundColor3 = theme.FrameContenedor
sliderFrame.BackgroundTransparency = theme.TransparenciaContenedor
sliderFrame.Parent = container
addCorner(sliderFrame, theme.redondoContenedor)
local borderFrame = Instance.new("UIStroke")
borderFrame.Thickness = 2
borderFrame.Color = theme.bordecuadro
borderFrame.Parent = sliderFrame
addCorner(borderFrame, theme.redondoContenedor)
local sliderLabel = Instance.new("TextLabel")
sliderLabel.Size = UDim2.new(1, -90, 0, 20)
sliderLabel.Position = UDim2.new(0, 10, 0, 5)
sliderLabel.Text = name
sliderLabel.Font = Enum.Font.Gotham
sliderLabel.TextSize = 13
sliderLabel.TextColor3 = theme.textcolor
sliderLabel.TextXAlignment = Enum.TextXAlignment.Left
sliderLabel.BackgroundTransparency = 1
sliderLabel.Parent = sliderFrame
local sliderTextBox = Instance.new("TextBox")
sliderTextBox.Size = UDim2.new(0, 60, 0, 20)
sliderTextBox.Position = UDim2.new(1, -70, 0, 5)
sliderTextBox.Text = tostring(defaultValue)
sliderTextBox.Font = Enum.Font.Gotham
sliderTextBox.TextSize = 18
sliderTextBox.TextColor3 = theme.textcolor
sliderTextBox.TextXAlignment = Enum.TextXAlignment.Center
sliderTextBox.BackgroundColor3 = theme.ColorContenedordelElementos
sliderTextBox.BackgroundTransparency = theme.TransparenciaContenedordelElementos
sliderTextBox.ClearTextOnFocus = false
sliderTextBox.Parent = sliderFrame
addCorner(sliderTextBox, 6)
local borderFrame = Instance.new("Frame")
borderFrame.Size = UDim2.new(1, 0, 1, 0)
borderFrame.BackgroundTransparency = 1
borderFrame.ZIndex = sliderTextBox.ZIndex - 1
borderFrame.Parent = sliderTextBox
local borderStroke = Instance.new("UIStroke")
borderStroke.Thickness = 2
borderStroke.Color = theme.bordecuadro
borderStroke.Parent = borderFrame
addCorner(borderFrame, theme.redondoContenedor)
local label = Instance.new("TextLabel")
label.Size = UDim2.new(1, -10, 0, 24)
label.Position = UDim2.new(0, 10, 0, 22)
label.Text = descriptionText or ""
label.TextSize = 9
label.Font = Enum.Font.Gotham
label.BackgroundTransparency = 1
label.TextXAlignment = Enum.TextXAlignment.Left
label.TextColor3 = theme.textcolor
label.Parent = sliderFrame
local sliderTrack = Instance.new("Frame")
sliderTrack.Size = UDim2.new(0, 120, 0, 6)
sliderTrack.Position = UDim2.new(1, -10, 0, 30)
sliderTrack.AnchorPoint = Vector2.new(1, 0)
sliderTrack.BackgroundColor3 = theme.ColorContenedordelElementos
sliderTrack.BackgroundTransparency = theme.TransparenciaContenedordelElementos
sliderTrack.Parent = sliderFrame
addCorner(sliderTrack, 6)
local borderFrame = Instance.new("Frame")
borderFrame.Size = UDim2.new(1, 0, 1, 0)
borderFrame.BackgroundTransparency = 1
borderFrame.ZIndex = sliderTrack.ZIndex - 1
borderFrame.Parent = sliderTrack
local borderStroke = Instance.new("UIStroke")
borderStroke.Thickness = 1
borderStroke.Color = theme.bordecuadro
borderStroke.Parent = borderFrame
addCorner(borderFrame, theme.redondoContenedor)
local sliderFill = Instance.new("Frame")
sliderFill.Size = UDim2.new(0, 0, 1, 0)
sliderFill.Position = UDim2.new(0, 0, 0, 0)
sliderFill.BackgroundColor3 = theme.main
sliderFill.BackgroundTransparency = theme.TransparenciaContenedordelElementos
sliderFill.ZIndex = 1
sliderFill.Parent = sliderTrack
addCorner(sliderFill, 6)
local sliderThumb = Instance.new("Frame")
sliderThumb.Size = UDim2.new(0, 12, 0, 12)
sliderThumb.AnchorPoint = Vector2.new(0.5, 0.5)
sliderThumb.BackgroundColor3 = theme.textcolor
sliderThumb.Position = UDim2.new(0, 0, 0.5, 0)
sliderThumb.ZIndex = 2
sliderThumb.Parent = sliderTrack
addCorner(sliderThumb, 6)
local value = defaultValue
local updating = false
local function saveValue(val)
getgenv().savedConfig[configKey] = val
getgenv().saveConfig(getgenv().savedConfig)
getgenv().cachedConfig = getgenv().savedConfig
end
local function updateVisual(newValue)
newValue = math.clamp(newValue, minValue, maxValue)
local ratio = (newValue - minValue) / (maxValue - minValue)
sliderTextBox.Text = string.format("%.2f", newValue)
TweenService:Create(sliderFill, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
Size = UDim2.new(ratio, 0, 1, 0)
}):Play()
TweenService:Create(sliderThumb, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
Position = UDim2.new(ratio, 0, 0.5, 0)
}):Play()
TweenService:Create(sliderThumb, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
Size = UDim2.new(0, 14, 0, 14)
}):Play()
task.delay(0.1, function()
TweenService:Create(sliderThumb, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
Size = UDim2.new(0, 12, 0, 12)
}):Play()
end)
value = newValue
end
local function update(newValue, skipCallback)
if updating then return end
updating = true
updateVisual(newValue)
saveValue(newValue)
if not skipCallback and callback then
callback(value)
end
updating = false
end
sliderTrack.InputBegan:Connect(function(input)
if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
local moveConn
local function move(input)
local x = (input.Position.X - sliderTrack.AbsolutePosition.X) / sliderTrack.AbsoluteSize.X
x = math.clamp(x, 0, 1)
update(minValue + x * (maxValue - minValue))
end
move(input)
moveConn = UserInputService.InputChanged:Connect(function(input2)
if input2.UserInputType == Enum.UserInputType.MouseMovement or input2.UserInputType == Enum.UserInputType.Touch then
move(input2)
end
end)
input.Changed:Connect(function()
if input.UserInputState == Enum.UserInputState.End then
moveConn:Disconnect()
end
end)
end
end)
sliderTextBox.FocusLost:Connect(function()
local val = tonumber(sliderTextBox.Text)
if val then
update(val)
else
update(defaultValue)
end
end)
update(defaultValue, true)
if savedValue and callback then
callback(savedValue)
end
local sliderInterface = {}
function sliderInterface.setValue(newValue)
update(newValue)
end
function sliderInterface.getValue()
return value
end
function sliderInterface.getTextBox()
return sliderTextBox
end
function sliderInterface.resetToDefault()
update(defaultValue)
getgenv().savedConfig[configKey] = nil
getgenv().saveConfig(getgenv().savedConfig)
end
return sliderInterface
end
function module.addDropdown(container, labelText, descriptionText, buttonText, options, callback, premiumOnly, saveConfigEnabled)
	local Players = game:GetService("Players")
	local player = Players.LocalPlayer
	local configKey = labelText:gsub("%s+", ""):gsub("[^%w]", ""):lower() .. "_dropdown"
	local savedOption = getgenv().savedConfig[configKey]
	saveConfigEnabled = saveConfigEnabled ~= false
	function isPlayerDeluxe(plr)
		for _, id in ipairs(getgenv().allowedUserIds or {}) do
			if plr.UserId == id then
				return true
			end
		end
		return false
	end
	local Dropdown = Instance.new("Frame")
	Dropdown.Size = theme.TamanoContenedor
	Dropdown.BackgroundTransparency = theme.TransparenciaContenedor
	Dropdown.BackgroundColor3 = theme.FrameContenedor
	Dropdown.Parent = container
	addCorner(Dropdown, theme.redondoContenedor)
	Dropdown.ClipsDescendants = true
	local borderStroke = Instance.new("UIStroke")
	borderStroke.Thickness = 2
	borderStroke.Color = theme.bordecuadro
	borderStroke.Parent = Dropdown
	local label = Instance.new("TextLabel")
	label.Size = UDim2.new(0.3, 0, 0, 30)
	label.Position = UDim2.new(0, 10, 0, 0)
	label.Text = labelText
	label.Font = Enum.Font.Gotham
	label.TextSize = 13
	label.TextColor3 = theme.textcolor
	label.BackgroundTransparency = 1
	label.TextXAlignment = Enum.TextXAlignment.Left
	label.Parent = Dropdown
	local descLabel = Instance.new("TextLabel")
	descLabel.Size = UDim2.new(1, -10, 0, 24)
	descLabel.Position = UDim2.new(0, 10, 0, 22)
	descLabel.Text = descriptionText or ""
	descLabel.TextSize = 9
	descLabel.Font = Enum.Font.Gotham
	descLabel.BackgroundTransparency = 1
	descLabel.TextXAlignment = Enum.TextXAlignment.Left
	descLabel.TextColor3 = theme.textcolor
	descLabel.Parent = Dropdown
	local dropdownButton = Instance.new("TextButton")
	dropdownButton.Size = UDim2.new(0, 115, 0, 25)
	dropdownButton.Position = UDim2.new(1, -10, 0, 5)
	dropdownButton.AnchorPoint = Vector2.new(1, 0)
	dropdownButton.Text = savedOption or buttonText or ""
	dropdownButton.Font = Enum.Font.Gotham
	dropdownButton.TextSize = 10
	dropdownButton.TextColor3 = theme.textcolor
	dropdownButton.BackgroundColor3 = theme.ColorContenedordelElementos
	dropdownButton.BackgroundTransparency = theme.TransparenciaContenedordelElementos
	dropdownButton.Parent = Dropdown
	addCorner(dropdownButton, 5)
	local btnBorderFrame = Instance.new("Frame")
	btnBorderFrame.Size = UDim2.new(1, 0, 1, 0)
	btnBorderFrame.BackgroundTransparency = 1
	btnBorderFrame.ZIndex = dropdownButton.ZIndex - 1
	btnBorderFrame.Parent = dropdownButton
	local btnStroke = Instance.new("UIStroke")
btnStroke.Transparency = 0.5
	btnStroke.Thickness = 2
	btnStroke.Color = theme.bordecuadro
	btnStroke.Parent = btnBorderFrame
	addCorner(btnBorderFrame, theme.redondoContenedor)
	local arrow = Instance.new("TextLabel")
	arrow.Size = UDim2.new(0, 20, 1, 0)
	arrow.Position = UDim2.new(1, -20, 0, 0)
	arrow.BackgroundTransparency = 1
	arrow.Text = "˅"
	arrow.Font = Enum.Font.Gotham
	arrow.TextSize = 14
	arrow.TextColor3 = theme.textcolor
	arrow.Parent = dropdownButton
	local dropdownList = Instance.new("Frame")
dropdownList.Size = UDim2.new(1, 0, 0, 0)
dropdownList.Position = UDim2.new(0, 0, 0, 40)
dropdownList.BackgroundColor3 = theme.ColorContenedordelElementos
dropdownList.BackgroundTransparency = 1
dropdownList.Parent = Dropdown

local padding = Instance.new("UIPadding")
padding.PaddingLeft = UDim.new(0, 10) 
padding.PaddingRight = UDim.new(0, 10) 
padding.Parent = dropdownList
	addCorner(dropdownList, 5)
	local listBorderFrame = Instance.new("Frame")
	listBorderFrame.Size = UDim2.new(1, 0, 1, 0)
	listBorderFrame.BackgroundTransparency = 1
	listBorderFrame.ZIndex = dropdownList.ZIndex - 1
	listBorderFrame.Parent = dropdownList
	local listStroke = Instance.new("UIStroke")
	listStroke.Thickness = 2
	listStroke.Color = theme.bordecuadro
	listStroke.Parent = listBorderFrame
	addCorner(listBorderFrame, theme.redondoContenedor)
	local scrollFrame = Instance.new("ScrollingFrame")
	scrollFrame.Size = UDim2.new(1, 0, 1, 0)
	scrollFrame.BackgroundTransparency = 1
	scrollFrame.ScrollBarThickness = 0
	scrollFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
	scrollFrame.Parent = dropdownList
	local layout = Instance.new("UIListLayout")
	layout.Parent = scrollFrame
	layout.Padding = UDim.new(0, 2)
listStroke.Enabled = false
	function updateDropdownSize()
		task.wait()
		local contentY = layout.AbsoluteContentSize.Y
		scrollFrame.CanvasSize = UDim2.new(0, 0, 0, contentY)
		return math.min(contentY, 120)
	end
	local function saveOption(optionName)
		if saveConfigEnabled then
			getgenv().savedConfig[configKey] = optionName
			getgenv().saveConfig(getgenv().savedConfig)
			getgenv().cachedConfig = getgenv().savedConfig
		end
	end
	dropdownButton.MouseButton1Click:Connect(function()
		if premiumOnly and not isPlayerDeluxe(player) then return end
		local isOpen = dropdownList.Size.Y.Offset > 0
		if isOpen then
			listStroke.Enabled = false
			TweenService:Create(Dropdown, TweenInfo.new(0.25), {Size = theme.TamanoContenedor}):Play()
			task.delay(0.25, function()
				dropdownList.Size = UDim2.new(1, 0, 0, 0)
				arrow.Text = "˅"
clickSound()
			end)
		else
			listStroke.Enabled = true
			local newSize = updateDropdownSize()
			TweenService:Create(Dropdown, TweenInfo.new(0.25), {Size = UDim2.new(theme.TamanoContenedor.X.Scale, theme.TamanoContenedor.X.Offset, 0, theme.TamanoContenedor.Y.Offset + newSize + 6)}):Play()
			dropdownList.Size = UDim2.new(1, 0, 0, newSize)
			arrow.Text = "˄"
clickSound()
		end
	end)
	function createDropdownOptions(optList)
		for _, v in pairs(scrollFrame:GetChildren()) do
			if v:IsA("Frame") then v:Destroy() end
		end
		for _, optionData in ipairs(optList) do
			local buttonFrame = Instance.new("Frame")
			buttonFrame.Size = UDim2.new(1, 0, 0, 40)
			buttonFrame.BackgroundTransparency = 1
			buttonFrame.Parent = scrollFrame
			local button = Instance.new("TextButton")
			button.Size = UDim2.new(1, 0, 0, 30)
			button.Text = optionData.Name or optionData
			button.Font = Enum.Font.Gotham
			button.TextSize = 14
			button.TextColor3 = theme.textcolor
			button.BackgroundColor3 = theme.ColorContenedordelElementos
			button.BackgroundTransparency = theme.TransparenciaContenedordelElementos
			button.Parent = buttonFrame
			addCorner(button, 4)
			local optBorderFrame = Instance.new("Frame")
			optBorderFrame.Size = UDim2.new(1, 0, 1, 0)
			optBorderFrame.BackgroundTransparency = 1
			optBorderFrame.ZIndex = button.ZIndex - 1
			optBorderFrame.Parent = button
			local optStroke = Instance.new("UIStroke")
			optStroke.Thickness = 2
			optStroke.Color = theme.bordecuadro
			optStroke.Enabled = false
			optStroke.Parent = optBorderFrame
			addCorner(optBorderFrame, theme.redondoContenedor)
			local desc = Instance.new("TextLabel")
			desc.Size = UDim2.new(1, -4, 0, 10)
			desc.Position = UDim2.new(0, 2, 0, 30)
			desc.Text = optionData.Description or ""
			desc.Font = Enum.Font.Gotham
			desc.TextSize = 9
			desc.TextColor3 = Color3.fromRGB(200, 200, 200)
			desc.BackgroundTransparency = 1
			desc.TextXAlignment = Enum.TextXAlignment.Left
			desc.Parent = buttonFrame
			button.MouseEnter:Connect(function() button.BackgroundColor3 = theme.bordecuadro end)
			button.MouseLeave:Connect(function() button.BackgroundColor3 = theme.ColorContenedordelElementos end)
			button.MouseButton1Click:Connect(function()
				if premiumOnly and not isPlayerDeluxe(player) then return end
				local selectedText = optionData.Name or optionData
				dropdownButton.Text = selectedText
				saveOption(selectedText)
clickSound()
				TweenService:Create(Dropdown, TweenInfo.new(0.25), {Size = theme.TamanoContenedor}):Play()
				task.delay(0.25, function()
					dropdownList.Size = UDim2.new(1, 0, 0, 0)
					arrow.Text = "˅"
				end)
				if callback then callback(optionData) end
			end)
		end
		updateDropdownSize()
	end
	createDropdownOptions(options)
	if savedOption and callback then
		for _, opt in ipairs(options) do
			if (opt.Name or opt) == savedOption then
				callback(opt)
				break
			end
		end
	end
	local dropdownInterface = {}
	function dropdownInterface.updateDropdownOptions(newOptions)
		createDropdownOptions(newOptions)
	end
	function dropdownInterface.setSelected(optionName)
		dropdownButton.Text = optionName
		saveOption(optionName)
	end
	function dropdownInterface.getSelected()
		return dropdownButton.Text
	end
	function dropdownInterface.resetToDefault()
		dropdownButton.Text = buttonText or ""
		if saveConfigEnabled then
			getgenv().savedConfig[configKey] = nil
			getgenv().saveConfig(getgenv().savedConfig)
		end
	end
	return dropdownInterface
end
function module.addTextbox(container, labelText, descriptionText, placeholderText, defaultText, callback, premiumOnly)
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local configKey = labelText:gsub("%s+", "_"):gsub("[^%w_]", ""):lower() .. "_textbox"
local savedText = getgenv().savedConfig[configKey]
if savedText then
defaultText = savedText
end
function isPlayerDeluxe(plr)
for _, id in ipairs(getgenv().allowedUserIds or {}) do
if plr.UserId == id then
return true
end
end
return false
end
local textboxFrame = Instance.new("Frame")
textboxFrame.Size = theme.TamanoContenedor
textboxFrame.BackgroundTransparency = theme.TransparenciaContenedor
textboxFrame.BackgroundColor3 = theme.FrameContenedor
textboxFrame.Parent = container
addCorner(textboxFrame, theme.redondoContenedor)
local label = Instance.new("TextLabel")
label.Size = UDim2.new(1, -10, 0, 24)
label.Position = UDim2.new(0, 10, 0, 22)
label.Text = descriptionText or ""
label.TextSize = 9
label.Font = Enum.Font.Gotham
label.BackgroundTransparency = 1
label.TextXAlignment = Enum.TextXAlignment.Left
label.TextColor3 = theme.textcolor
label.Parent = textboxFrame
addCorner(borderFrame, theme.redondoContenedor)
local borderStroke = Instance.new("UIStroke")
borderStroke.Thickness = 2
borderStroke.Color = theme.bordecuadro
borderStroke.Parent = textboxFrame
local label = Instance.new("TextLabel")
label.Size = UDim2.new(0, 100, 1, 0)
label.Position = UDim2.new(0, 10, 0, 0)
label.Text = labelText
label.TextSize = 13
label.Font = Enum.Font.Gotham
label.TextXAlignment = Enum.TextXAlignment.Left
label.TextColor3 = theme.textcolor
label.BackgroundTransparency = 1
label.Parent = textboxFrame
if premiumOnly then
local deluxeLabel = Instance.new("TextLabel")
deluxeLabel.Size = UDim2.new(0, 50, 0, 15)
deluxeLabel.Position = UDim2.new(0, 10 + label.TextBounds.X + 10, 0.5, -7)
deluxeLabel.Text = "Deluxe"
deluxeLabel.TextSize = 11
deluxeLabel.Font = Enum.Font.Gotham
deluxeLabel.TextColor3 = Color3.fromRGB(255, 140, 0)
deluxeLabel.BackgroundTransparency = 1
deluxeLabel.Parent = label
end
local textBox = Instance.new("TextBox")
textBox.Size = UDim2.new(0, 115, 0, 25)
textBox.AnchorPoint = Vector2.new(1, 0)
textBox.Position = UDim2.new(1, -10, 0, 5)
textBox.Text = defaultText
textBox.PlaceholderText = placeholderText
textBox.Font = Enum.Font.Gotham
textBox.TextSize = 14
textBox.ClearTextOnFocus = false
textBox.TextWrapped = true
textBox.BackgroundTransparency = theme.TransparenciaContenedordelElementos
textBox.TextColor3 = theme.textcolor
textBox.BackgroundColor3 = theme.ColorContenedordelElementos
textBox.Parent = textboxFrame
addCorner(textBox, 5)
local borderFrame = Instance.new("Frame")
borderFrame.Size = UDim2.new(1, 0, 1, 0)
borderFrame.BackgroundTransparency = 1
borderFrame.ZIndex = textBox.ZIndex - 1
borderFrame.Parent = textBox
local borderStroke = Instance.new("UIStroke")
borderStroke.Thickness = 2
borderStroke.Color = theme.bordecuadro
borderStroke.Parent = borderFrame
addCorner(borderFrame, theme.redondoContenedor)
function saveText(text)
getgenv().savedConfig[configKey] = text
getgenv().saveConfig(getgenv().savedConfig)
getgenv().cachedConfig = getgenv().savedConfig
end
textBox.Focused:Connect(function()
clickSound()
TweenService:Create(textBox, TweenInfo.new(0.15, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
Size = UDim2.new(0, 125, 0, 32),
BackgroundColor3 = theme.main
}):Play()
end)
textBox.FocusLost:Connect(function(enterPressed)
clickSound()
TweenService:Create(textBox, TweenInfo.new(0.15, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
Size = UDim2.new(0, 115, 0, 25),
BackgroundColor3 = theme.ColorContenedordelElementos
}):Play()
if enterPressed and callback then
if premiumOnly and not isPlayerDeluxe(player) then
player:Kick("Access denied: You're not authorized to use this feature.")
return
end
saveText(textBox.Text)
callback(textBox.Text)
end
end)
local textboxInterface = {}
function textboxInterface.setText(newText)
textBox.Text = newText
saveText(newText)
end
function textboxInterface.getText()
return textBox.Text
end
function textboxInterface.resetToDefault()
textBox.Text = defaultText
getgenv().savedConfig[configKey] = nil
getgenv().saveConfig(getgenv().savedConfig)
end
return textboxInterface
end
function module.addMultiSelect(container, labelText, descriptionText, buttonText, options, callback, premiumOnly)
local Players = game:GetService("Players")
local player = Players.LocalPlayer
function isPlayerDeluxe(plr)
for _, id in ipairs(getgenv().allowedUserIds or {}) do
if plr.UserId == id then
return true
end
end
return false
end
local multiSelect = Instance.new("Frame")
multiSelect.Size = theme.TamanoContenedor
multiSelect.BackgroundTransparency = theme.TransparenciaContenedor
multiSelect.BackgroundColor3 = theme.FrameContenedor
multiSelect.Parent = container
addCorner(multiSelect, theme.redondoContenedor)
multiSelect.ClipsDescendants = true
local borderStroke = Instance.new("UIStroke")
borderStroke.Thickness = 2
borderStroke.Color = theme.bordecuadro
borderStroke.Parent = multiSelect
local label = Instance.new("TextLabel")
label.Size = UDim2.new(0.3, 0, 0, 30)
label.Position = UDim2.new(0, 10, 0, 0)
label.Text = labelText
label.Font = Enum.Font.Gotham
label.TextSize = 13
label.TextColor3 = theme.textcolor
label.BackgroundTransparency = 1
label.TextXAlignment = Enum.TextXAlignment.Left
label.Parent = multiSelect
local descriptionLabel = Instance.new("TextLabel")
descriptionLabel.Size = UDim2.new(1, -10, 0, 24)
descriptionLabel.Position = UDim2.new(0, 10, 0, 22)
descriptionLabel.Text = descriptionText or ""
descriptionLabel.TextSize = 9
descriptionLabel.Font = Enum.Font.Gotham
descriptionLabel.BackgroundTransparency = 1
descriptionLabel.TextXAlignment = Enum.TextXAlignment.Left
descriptionLabel.TextColor3 = theme.textcolor
descriptionLabel.Parent = multiSelect
local multiSelectButton = Instance.new("TextButton")
multiSelectButton.Size = UDim2.new(0, 115, 0, 25)
multiSelectButton.Position = UDim2.new(1, -130, 0, 0)
multiSelectButton.AnchorPoint = Vector2.new(0, 0)
multiSelectButton.Text = buttonText or ""
multiSelectButton.Font = Enum.Font.Gotham
multiSelectButton.TextSize = 10
multiSelectButton.TextColor3 = theme.textcolor
multiSelectButton.BackgroundColor3 = theme.ColorContenedordelElementos
multiSelectButton.BackgroundTransparency = theme.TransparenciaContenedordelElementos
multiSelectButton.Parent = multiSelect
addCorner(multiSelectButton, 5)
local arrow = Instance.new("TextLabel")
arrow.Size = UDim2.new(0, 20, 1, 0)
arrow.Position = UDim2.new(1, -20, 0, 0)
arrow.BackgroundTransparency = 1
arrow.Text = "˅"
arrow.Font = Enum.Font.Gotham
arrow.TextSize = 14
arrow.TextColor3 = theme.textcolor
arrow.Parent = multiSelectButton
local multiSelectList = Instance.new("Frame")
multiSelectList.Size = UDim2.new(1, 0, 0, 0)
multiSelectList.Position = UDim2.new(0, 0, 0, 30)
multiSelectList.BackgroundColor3 = theme.ColorContenedordelElementos
multiSelectList.BackgroundTransparency = 0.3
multiSelectList.Parent = multiSelect
addCorner(multiSelectList, 5)
local scrollFrame = Instance.new("ScrollingFrame")
scrollFrame.Size = UDim2.new(1, 0, 1, 0)
scrollFrame.BackgroundTransparency = 1
scrollFrame.ScrollBarThickness = 0
scrollFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
scrollFrame.Parent = multiSelectList
local layout = Instance.new("UIListLayout")
layout.Parent = scrollFrame
layout.Padding = UDim.new(0, 2)
local selectedOptions = {}
function updateMultiSelectSize()
task.wait()
local contentY = layout.AbsoluteContentSize.Y
scrollFrame.CanvasSize = UDim2.new(0, 0, 0, contentY)
return math.min(contentY, 120)
end
multiSelectButton.MouseButton1Click:Connect(function()
if premiumOnly and not isPlayerDeluxe(player) then return end
if multiSelectList.Size.Y.Offset > 0 then
local tween = TweenService:Create(multiSelect, TweenInfo.new(0.25), {Size = UDim2.new(theme.TamanoContenedor.X.Scale, theme.TamanoContenedor.X.Offset, 0, theme.TamanoContenedor.Y.Offset)})
tween:Play()
tween.Completed:Wait()
multiSelectList.Size = UDim2.new(1, 0, 0, 0)
arrow.Text = "˅"
else
local newSize = updateMultiSelectSize()
local tween = TweenService:Create(multiSelect, TweenInfo.new(0.25), {Size = UDim2.new(theme.TamanoContenedor.X.Scale, theme.TamanoContenedor.X.Offset, 0, theme.TamanoContenedor.Y.Offset + newSize + 6)})
tween:Play()
multiSelectList.Size = UDim2.new(1, 0, 0, newSize)
arrow.Text = "˄"
end
end)
function createMultiSelectOptions(optList)
for _, v in pairs(scrollFrame:GetChildren()) do
if v:IsA("Frame") then v:Destroy() end
end
for _, optionData in ipairs(optList) do
local buttonFrame = Instance.new("Frame")
buttonFrame.Size = UDim2.new(1, 0, 0, 40)
buttonFrame.BackgroundTransparency = 1
buttonFrame.Parent = scrollFrame
local button = Instance.new("TextButton")
button.Size = UDim2.new(1, 0, 0, 30)
button.Position = UDim2.new(0, 0, 0, 0)
button.Text = "[ ] " .. (optionData.Name or optionData)
button.Font = Enum.Font.Gotham
button.TextSize = 14
button.TextColor3 = theme.textcolor
button.BackgroundColor3 = theme.ColorContenedordelElementos
button.BackgroundTransparency = theme.TransparenciaContenedordelElementos
button.Parent = buttonFrame
addCorner(button, 4)
local descriptionLabel = Instance.new("TextLabel")
descriptionLabel.Size = UDim2.new(1, -4, 0, 10)
descriptionLabel.Position = UDim2.new(0, 2, 0, 30)
descriptionLabel.Text = optionData.Description or ""
descriptionLabel.Font = Enum.Font.Gotham
descriptionLabel.TextSize = 9
descriptionLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
descriptionLabel.BackgroundTransparency = 1
descriptionLabel.TextXAlignment = Enum.TextXAlignment.Left
descriptionLabel.Parent = buttonFrame
button.MouseEnter:Connect(function()
button.BackgroundColor3 = theme.bordecuadro
end)
button.MouseLeave:Connect(function()
button.BackgroundColor3 = theme.ColorContenedordelElementos
end)
button.MouseButton1Click:Connect(function()
local optionName = optionData.Name or optionData
if selectedOptions[optionName] then
selectedOptions[optionName] = nil
button.Text = "[ ] " .. optionName
else
selectedOptions[optionName] = true
button.Text = "[X] " .. optionName
end
local count = 0
local names = {}
for k in pairs(selectedOptions) do
count += 1
table.insert(names, k)
end
if count == 0 then
multiSelectButton.Text = buttonText or ""
elseif count <= 3 then
multiSelectButton.Text = table.concat(names, ", ")
else
multiSelectButton.Text = count .. " seleccionadas"
end
if callback then callback(selectedOptions) end
end)
end
updateMultiSelectSize()
end
createMultiSelectOptions(options)
local multiSelectInterface = {}
function multiSelectInterface.updateOptions(newOptions)
createMultiSelectOptions(newOptions)
end
return multiSelectInterface
end
function module.addParagraph(container, text)
local paragraphFrame = Instance.new("Frame")
paragraphFrame.Size = theme.TamanoContenedor
paragraphFrame.BackgroundColor3 = theme.FrameContenedor
paragraphFrame.BackgroundTransparency = 0.15
paragraphFrame.AutomaticSize = Enum.AutomaticSize.Y
paragraphFrame.ClipsDescendants = true
paragraphFrame.Parent = container
addCorner(paragraphFrame, theme.redondoContenedor)
local borderStroke = Instance.new("UIStroke")
borderStroke.Thickness = 2
borderStroke.Color = theme.bordecuadro
borderStroke.Parent = paragraphFrame
local uiPadding = Instance.new("UIPadding")
uiPadding.PaddingLeft = UDim.new(0, 10)
uiPadding.PaddingRight = UDim.new(0, 10)
uiPadding.PaddingTop = UDim.new(0, 6)
uiPadding.PaddingBottom = UDim.new(0, 6)
uiPadding.Parent = paragraphFrame
local paragraphLabel = Instance.new("TextLabel")
paragraphLabel.Size = UDim2.new(1, -20, 0, 0)
paragraphLabel.AutomaticSize = Enum.AutomaticSize.Y
paragraphLabel.Text = text
paragraphLabel.TextWrapped = true
paragraphLabel.TextSize = 13
paragraphLabel.TextColor3 = theme.textcolor
paragraphLabel.Font = Enum.Font.Gotham
paragraphLabel.BackgroundTransparency = 1
paragraphLabel.TextXAlignment = Enum.TextXAlignment.Left
paragraphLabel.TextYAlignment = Enum.TextYAlignment.Top
paragraphLabel.Parent = paragraphFrame
paragraphFrame.MouseEnter:Connect(function()
TweenService:Create(paragraphFrame, TweenInfo.new(0.15), {
BackgroundTransparency = 0
}):Play()
end)
paragraphFrame.MouseLeave:Connect(function()
TweenService:Create(paragraphFrame, TweenInfo.new(0.15), {
BackgroundTransparency = 0.15
}):Play()
end)
end
function module.addSection(container, title)
local section = Instance.new("Frame")
section.Size = UDim2.new(1, 0, 0, 36)
section.BackgroundTransparency = 0.2
section.BackgroundColor3 = theme.FrameContenedor
section.Parent = container
addCorner(section, 8)
local borderStroke = Instance.new("UIStroke")
borderStroke.Thickness = 2
borderStroke.Color = theme.bordecuadro
borderStroke.Parent = section
local sectionLabel = Instance.new("TextLabel")
sectionLabel.Size = UDim2.new(1, -20, 1, 0)
sectionLabel.Position = UDim2.new(0, 10, 0, 0)
sectionLabel.Text = "--== "..(title or "Section").." ==--"
sectionLabel.TextColor3 = theme.textcolor
sectionLabel.Font = Enum.Font.Gotham
sectionLabel.TextSize = 14
sectionLabel.RichText = true
sectionLabel.BackgroundTransparency = 1
sectionLabel.TextXAlignment = Enum.TextXAlignment.Center
sectionLabel.Parent = section
end
function module.addLabel(container, text)
local labelFrame = Instance.new("Frame")
labelFrame.Size = UDim2.new(1, 0, 0, 0)
labelFrame.AutomaticSize = Enum.AutomaticSize.Y
labelFrame.BackgroundColor3 = theme.FrameContenedor
labelFrame.BackgroundTransparency = 0.15
labelFrame.Parent = container
addCorner(labelFrame, 8)
local uiPadding = Instance.new("UIPadding")
uiPadding.PaddingLeft = UDim.new(0, 10)
uiPadding.PaddingRight = UDim.new(0, 10)
uiPadding.PaddingTop = UDim.new(0, 4)
uiPadding.PaddingBottom = UDim.new(0, 4)
uiPadding.Parent = labelFrame
local label = Instance.new("TextLabel")
label.Size = UDim2.new(1, -8, 0, 0)
label.AutomaticSize = Enum.AutomaticSize.Y
label.Text = text
label.Font = Enum.Font.Gotham
label.TextSize = 12
label.TextColor3 = theme.textcolor
label.BackgroundTransparency = 1
label.TextXAlignment = Enum.TextXAlignment.Left
label.TextYAlignment = Enum.TextYAlignment.Top
label.TextWrapped = true
label.Parent = labelFrame
labelFrame.MouseEnter:Connect(function()
TweenService:Create(labelFrame, TweenInfo.new(0.15), {
BackgroundTransparency = 0
}):Play()
end)
labelFrame.MouseLeave:Connect(function()
TweenService:Create(labelFrame, TweenInfo.new(0.15), {
BackgroundTransparency = 0.15
}):Play()
end)
local labelObject = { Label = label }
function labelObject:Set(newText)
self.Label.Text = newText
end
return labelObject
end
function isPlayerDeluxe(plr)
for _, id in ipairs(getgenv().allowedUserIds or {}) do
if plr.UserId == id then
return true
end
end
return false
end
function module.addKeybind(container, text, descriptionText, defaultKey, callback, premiumOnly)
local UIS = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local configKey = text:gsub("%s+", "_"):gsub("[^%w_]", ""):lower() .. "_keybind"
local savedKey = getgenv().savedConfig[configKey]
if savedKey then
defaultKey = Enum.KeyCode[savedKey]
end
local KeybindFrame = Instance.new("Frame")
KeybindFrame.Name = "KeybindFrame"
KeybindFrame.Parent = container
KeybindFrame.Position = UDim2.new(0, 10, 0, 0)
KeybindFrame.BackgroundColor3 = theme.FrameContenedor
KeybindFrame.Size = theme.TamanoContenedor
KeybindFrame.BackgroundTransparency = theme.TransparenciaContenedor
addCorner(KeybindFrame, theme.redondoContenedor)
local borderStroke = Instance.new("UIStroke")
borderStroke.Thickness = 2
borderStroke.Color = theme.bordecuadro
borderStroke.Parent = KeybindFrame
addCorner(borderFrame, theme.redondoContenedor)
local KeybindTitle = Instance.new("TextLabel")
KeybindTitle.Name = "KeybindTitle"
KeybindTitle.Parent = KeybindFrame
KeybindTitle.BackgroundTransparency = 1
KeybindTitle.Position = UDim2.new(0, 10, 0, 0)
KeybindTitle.Size = UDim2.new(0, 100, 1, 0)
KeybindTitle.Font = Enum.Font.Gotham
KeybindTitle.Text = text
KeybindTitle.TextColor3 = theme.textcolor
KeybindTitle.TextSize = 13
KeybindTitle.TextXAlignment = Enum.TextXAlignment.Left
if premiumOnly then
local deluxeLabel = Instance.new("TextLabel")
deluxeLabel.Size = UDim2.new(0, 50, 0, 15)
deluxeLabel.Position = UDim2.new(0, KeybindTitle.TextBounds.X + 15, 0, 0)
deluxeLabel.Text = "Deluxe"
deluxeLabel.TextSize = 11
deluxeLabel.Font = Enum.Font.Gotham
deluxeLabel.TextColor3 = Color3.fromRGB(255, 140, 0)
deluxeLabel.BackgroundTransparency = 1
deluxeLabel.Parent = KeybindFrame
end
local label = Instance.new("TextLabel")
label.Size = UDim2.new(1, -10, 0, 24)
label.Position = UDim2.new(0, 10, 0, 22)
label.Text = descriptionText or ""
label.TextSize = 9
label.Font = Enum.Font.Gotham
label.BackgroundTransparency = 1
label.TextXAlignment = Enum.TextXAlignment.Left
label.TextColor3 = theme.textcolor
label.Parent = KeybindFrame
local KeybindButton = Instance.new("TextButton")
KeybindButton.Parent = KeybindFrame
KeybindButton.BackgroundColor3 = theme.ColorContenedordelElementos
KeybindButton.AnchorPoint = Vector2.new(1, 0)
KeybindButton.Position = UDim2.new(1, -10, 0, 5)
KeybindButton.Size = UDim2.new(0, 115, 0, 25)
KeybindButton.Font = Enum.Font.Gotham
KeybindButton.Text = defaultKey.Name
KeybindButton.BackgroundTransparency = theme.TransparenciaContenedordelElementos
KeybindButton.TextColor3 = theme.textcolor
KeybindButton.TextSize = 13
addCorner(KeybindButton, 5)
local borderFrame = Instance.new("Frame")
borderFrame.Size = UDim2.new(1, 0, 1, 0)
borderFrame.BackgroundTransparency = 1
borderFrame.ZIndex = KeybindButton.ZIndex - 1
borderFrame.Parent = KeybindButton
local borderStroke = Instance.new("UIStroke")
borderStroke.Thickness = 2
borderStroke.Color = theme.bordecuadro
borderStroke.Parent = borderFrame
addCorner(borderFrame, theme.redondoContenedor)
local listening = false
local active = true
local currentKey = defaultKey
function saveKey(key)
getgenv().savedConfig[configKey] = key.Name
getgenv().saveConfig(getgenv().savedConfig)
getgenv().cachedConfig = getgenv().savedConfig
end
function animateButtonClick()
TweenService:Create(KeybindButton, TweenInfo.new(0.1), {Size = UDim2.new(0, 125, 0, 34)}):Play()
task.delay(0.1, function()
TweenService:Create(KeybindButton, TweenInfo.new(0.15), {Size = UDim2.new(0, 115, 0, 25)}):Play()
end)
end
function setState(state)
active = state
end
KeybindButton.MouseButton1Click:Connect(function()
if not active then return end
listening = true
animateButtonClick()
clickSound()
KeybindButton.Text = "Press.."
end)
UIS.InputBegan:Connect(function(input, gp)
if not active or gp then return end
if listening then
if input.UserInputType == Enum.UserInputType.Keyboard then
currentKey = input.KeyCode
KeybindButton.Text = currentKey.Name
saveKey(currentKey)
if not premiumOnly or isPlayerDeluxe(game.Players.LocalPlayer) then
callback(currentKey)
end
listening = false
end
elseif input.KeyCode == currentKey then
if not premiumOnly or isPlayerDeluxe(game.Players.LocalPlayer) then
callback(currentKey)
end
end
end)
local keybindInterface = {}
function keybindInterface.setKey(key)
if typeof(key) == "EnumItem" and key.EnumType == Enum.KeyCode then
currentKey = key
KeybindButton.Text = key.Name
saveKey(key)
end
end
function keybindInterface.getKey()
return currentKey
end
function keybindInterface.resetToDefault()
currentKey = defaultKey
KeybindButton.Text = defaultKey.Name
getgenv().savedConfig[configKey] = nil
getgenv().saveConfig(getgenv().savedConfig)
end
function keybindInterface.SetListening(state)
setState(state)
end
return keybindInterface
end
function module.addInfo(container, title, subtitle)
local userId = player.UserId
local infoFrame = Instance.new("Frame")
infoFrame.Size = UDim2.new(1, 0, 0, 0)
infoFrame.AutomaticSize = Enum.AutomaticSize.Y
infoFrame.BackgroundColor3 = theme.FrameContenedor
infoFrame.BackgroundTransparency = 0.15
infoFrame.Parent = container
addCorner(infoFrame, 8)
local uiPadding = Instance.new("UIPadding")
uiPadding.PaddingLeft = UDim.new(0, 10)
uiPadding.PaddingRight = UDim.new(0, 10)
uiPadding.PaddingTop = UDim.new(0, 8)
uiPadding.PaddingBottom = UDim.new(0, 8)
uiPadding.Parent = infoFrame
local uiList = Instance.new("UIListLayout")
uiList.FillDirection = Enum.FillDirection.Vertical
uiList.SortOrder = Enum.SortOrder.LayoutOrder
uiList.Padding = UDim.new(0, 4)
uiList.Parent = infoFrame
local avatarImage = Instance.new("ImageLabel")
avatarImage.Size = UDim2.new(0, 60, 0, 60)
avatarImage.BackgroundTransparency = 1
avatarImage.AnchorPoint = Vector2.new(1, 0)
avatarImage.Position = UDim2.new(1, -10, 0, 10)
avatarImage.Image = game.Players:GetUserThumbnailAsync(userId, Enum.ThumbnailType.HeadShot, Enum.ThumbnailSize.Size100x100)
avatarImage.Parent = infoFrame
local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(1, 0, 0, 0)
titleLabel.AutomaticSize = Enum.AutomaticSize.Y
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextSize = 16
titleLabel.Text = title or ("playing as: " .. player.Name)
titleLabel.TextColor3 = theme.textcolor
titleLabel.BackgroundTransparency = 1
titleLabel.TextXAlignment = Enum.TextXAlignment.Left
titleLabel.Parent = infoFrame
local subtitleLabel = Instance.new("TextLabel")
subtitleLabel.Size = UDim2.new(1, 0, 0, 0)
subtitleLabel.AutomaticSize = Enum.AutomaticSize.Y
subtitleLabel.Font = Enum.Font.Gotham
subtitleLabel.TextSize = 14
subtitleLabel.Text = subtitle or "(Normal User)"
subtitleLabel.TextColor3 = Color3.fromRGB(200,200,200)
subtitleLabel.BackgroundTransparency = 1
subtitleLabel.TextXAlignment = Enum.TextXAlignment.Left
subtitleLabel.Parent = infoFrame
local infoObject = {
Frame = infoFrame,
Title = titleLabel,
Subtitle = subtitleLabel,
Avatar = avatarImage,
Lines = {}
}
function infoObject:SetTitle(newTitle)
self.Title.Text = newTitle
end
function infoObject:SetSubtitle(newSubtitle)
self.Subtitle.Text = newSubtitle
end
function infoObject:AddLine(text, color)
local line = Instance.new("TextLabel")
line.Size = UDim2.new(1, 0, 0, 0)
line.AutomaticSize = Enum.AutomaticSize.Y
line.Font = Enum.Font.Gotham
line.TextSize = 14
line.Text = text
line.TextWrapped = true
line.TextColor3 = color or theme.textcolor
line.BackgroundTransparency = 1
line.TextXAlignment = Enum.TextXAlignment.Left
line.Parent = self.Frame
local lineObj = { Label = line }
function lineObj:SetText(newText)
self.Label.Text = newText
end
table.insert(self.Lines, lineObj)
return lineObj
end
return infoObject
end

local CoreGui = game:GetService("CoreGui")
local notifications = {}

local function getScreenScale()
    local viewportSize = workspace.CurrentCamera.ViewportSize
    return math.min(viewportSize.X, viewportSize.Y) / 400
end

local function createButton(text, xPos, color, parent)
    local screenScale = getScreenScale()
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0, 82 * screenScale, 0, 22 * screenScale)
    button.Position = UDim2.new(0, xPos * screenScale, 1, -32 * screenScale)
    button.Text = text
    button.Font = Enum.Font.Gotham
    button.TextSize = math.floor(13 * screenScale)
    button.RichText = true
    button.BackgroundTransparency = 1
    button.TextColor3 = theme.textcolor
    button.BackgroundColor3 = color
    addCorner(button, math.floor(6 * screenScale))
    button.Parent = parent
    
    local border = Instance.new("Frame")
    border.Size = UDim2.new(1, 0, 1, 0)
    border.BackgroundTransparency = 1
    border.ZIndex = button.ZIndex - 1
    border.Parent = button
    
    local borderStroke = Instance.new("UIStroke")
    borderStroke.Thickness = 2 * screenScale
    borderStroke.Color = Color3.fromRGB(80, 80, 80)
    borderStroke.Parent = border
    addCorner(border, math.floor(8 * screenScale))
    
    return button
end

local function showNotification(title, message, btn1Text, btn2Text, duration, callback, imageId)
    local screenScale = getScreenScale()
    local gui = Instance.new("ScreenGui")
    gui.Name = "Notifier_" .. tostring(math.random(1000, 9999))
    gui.ResetOnSpawn = false
    gui.IgnoreGuiInset = true
    gui.Parent = CoreGui
    
    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(0, 225 * screenScale, 0, 75 * screenScale)
    frame.AnchorPoint = Vector2.new(1, 1)
    frame.Position = UDim2.new(1, 230 * screenScale, 1, -10 * screenScale)
    frame.BackgroundColor3 = theme.FrameContenedor
    frame.BackgroundTransparency = theme.TransparenciaContenedor
    frame.BorderSizePixel = 0
    frame.Parent = gui
    addCorner(frame, math.floor(8 * screenScale))
    
    local border = Instance.new("Frame")
    border.Size = UDim2.new(1, 0, 1, 0)
    border.BackgroundTransparency = 1
    border.ZIndex = frame.ZIndex - 1
    border.Parent = frame
    
    local borderStroke = Instance.new("UIStroke")
    borderStroke.Thickness = 2 * screenScale
    borderStroke.Color = theme.bordes
    borderStroke.Parent = border
    addCorner(border, math.floor(8 * screenScale))
    
    local offsetX = imageId and 60 * screenScale or 10 * screenScale
    
    if imageId then
        local image = Instance.new("ImageLabel")
        image.Size = UDim2.new(0, 35 * screenScale, 0, 35 * screenScale)
        image.Position = UDim2.new(0, 10 * screenScale, 0, 8 * screenScale)
        image.BackgroundTransparency = 1
        image.Image = imageId
        image.Parent = frame
    end
    
    local titleLabel = Instance.new("TextLabel")
    titleLabel.Size = UDim2.new(1, -(offsetX + 10 * screenScale), 0, 16 * screenScale)
    titleLabel.Position = UDim2.new(0, offsetX, 0, 6 * screenScale)
    titleLabel.BackgroundTransparency = 1
    titleLabel.Text = title
    titleLabel.Font = Enum.Font.GothamBold
    titleLabel.TextSize = math.floor(15 * screenScale)
    titleLabel.TextColor3 = Color3.new(1, 1, 1)
    titleLabel.TextXAlignment = Enum.TextXAlignment.Left
    titleLabel.Parent = frame
    titleLabel.RichText = true
    
    local messageLabel = Instance.new("TextLabel")
    messageLabel.Size = UDim2.new(1, -(offsetX + 10 * screenScale), 0, 30 * screenScale)
    messageLabel.Position = UDim2.new(0, offsetX, 0, 22 * screenScale)
    messageLabel.BackgroundTransparency = 1
    messageLabel.Text = message
    messageLabel.Font = Enum.Font.Gotham
    messageLabel.TextSize = math.floor(13 * screenScale)
    messageLabel.TextColor3 = theme.textcolor
    messageLabel.TextWrapped = true
    messageLabel.TextXAlignment = Enum.TextXAlignment.Left
    messageLabel.TextYAlignment = Enum.TextYAlignment.Top
    messageLabel.Parent = frame
    messageLabel.RichText = true
    
    local timeBar = Instance.new("Frame")
    timeBar.Size = UDim2.new(1, 0, 0, 3 * screenScale)
    timeBar.Position = UDim2.new(0, 0, 1, -3 * screenScale)
    timeBar.BackgroundColor3 = theme.main
    timeBar.BorderSizePixel = 0
    timeBar.Parent = frame
    addCorner(timeBar, math.floor(3 * screenScale))
    
    local closeButton = Instance.new("TextButton")
    closeButton.Size = UDim2.new(0, 20 * screenScale, 0, 20 * screenScale)
    closeButton.Position = UDim2.new(1, -24 * screenScale, 0, 4 * screenScale)
    closeButton.Text = "X"
    closeButton.Font = Enum.Font.GothamBold
    closeButton.TextSize = math.floor(13 * screenScale)
    closeButton.TextColor3 = Color3.fromRGB(255, 0, 0)
    closeButton.BackgroundTransparency = 1
    closeButton.Parent = frame
    
    local button1 = btn1Text and createButton(btn1Text, 10, Color3.fromRGB(40, 120, 220), frame)
    local button2 = btn2Text and createButton(btn2Text, 115, Color3.fromRGB(180, 60, 60), frame)
    
    local spacing = 10 * screenScale
    local notifHeight = 70 * screenScale
    local index = #notifications
    local targetY = -3 * screenScale - ((notifHeight + spacing) * index)
    
    TweenService:Create(frame, TweenInfo.new(0.37, Enum.EasingStyle.Quint, Enum.EasingDirection.Out), {
        Position = UDim2.new(1, -10 * screenScale, 1, targetY)
    }):Play()
    
    table.insert(notifications, frame)
    
    local function closeNotification()
        for i, notif in ipairs(notifications) do
            if notif == frame then
                table.remove(notifications, i)
                break
            end
        end
        
        TweenService:Create(frame, TweenInfo.new(0.35, Enum.EasingStyle.Quint, Enum.EasingDirection.In), {
            Position = UDim2.new(1, 260 * screenScale, 1, -10 * screenScale)
        }):Play()
        
        task.delay(0.4, function()
            gui:Destroy()
            for i, notif in ipairs(notifications) do
                local newY = -3 * screenScale - ((notifHeight + spacing) * (i - 1))
                TweenService:Create(notif, TweenInfo.new(0.37, Enum.EasingStyle.Quint, Enum.EasingDirection.Out), {
                    Position = UDim2.new(1, -10 * screenScale, 1, newY)
                }):Play()
            end
        end)
    end
    
    closeButton.MouseButton1Click:Connect(closeNotification)
    
    if button1 then
        button1.MouseButton1Click:Connect(function()
            closeNotification()
            clickSound()
            if callback then callback(true) end
        end)
    end
    
    if button2 then
        button2.MouseButton1Click:Connect(function()
            closeNotification()
            clickSound()
            if callback then callback(false) end
        end)
    end
    
    if duration and duration > 0 then
        TweenService:Create(timeBar, TweenInfo.new(duration, Enum.EasingStyle.Linear), {
            Size = UDim2.new(0, 0, 0, 3 * screenScale)
        }):Play()
        task.delay(duration, function()
            if frame.Parent then closeNotification() end
        end)
    end
end

function module.addNotification(title, message, btn1Text, btn2Text, duration, callback, imageId)
    showNotification(title, message, btn1Text, btn2Text, duration, callback, imageId)
end
local UserInputService = game:GetService("UserInputService")

function hookSizeSaving(btn, sizeKey)
    btn:GetPropertyChangedSignal("Size"):Connect(function()
        if not (getgenv().savedConfig and getgenv().saveConfig) then return end
        local s = btn.Size
        getgenv().savedConfig[sizeKey] = {
            XScale = s.X.Scale,
            XOffset = s.X.Offset,
            YScale = s.Y.Scale,
            YOffset = s.Y.Offset
        }
        getgenv().saveConfig(getgenv().savedConfig)
    end)
end

function makeDraggable(btn, saveKey, draggableVarName)
    local dragging = false
    local dragStart, startPos
    local dragInput
    function update(input)
        local delta = input.Position - dragStart
        btn.Position = UDim2.new(
            startPos.X.Scale,
            startPos.X.Offset + delta.X,
            startPos.Y.Scale,
            startPos.Y.Offset + delta.Y
        )
    end
    btn.InputBegan:Connect(function(input)
        if not getgenv()[draggableVarName] then return end
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            dragStart = input.Position
            startPos = btn.Position
            dragInput = input
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                    if getgenv().savedConfig and getgenv().saveConfig then
                        local pos = btn.Position
                        getgenv().savedConfig[saveKey] = {
                            XScale = pos.X.Scale,
                            XOffset = pos.X.Offset,
                            YScale = pos.Y.Scale,
                            YOffset = pos.Y.Offset
                        }
                        getgenv().saveConfig(getgenv().savedConfig)
                    end
                end
            end)
        end
    end)
    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and dragging and getgenv()[draggableVarName] then
            update(input)
        end
    end)
end

function module.MakeButtonVirtual(cfg)
    local screenScale = getScreenScale()
    
    cfg = cfg or {}
    if cfg.instanceVar and getgenv()[cfg.instanceVar] then
        local oldBtn = getgenv()[cfg.instanceVar]
        if oldBtn and oldBtn.Parent then oldBtn:DestroyButton() end
        getgenv()[cfg.instanceVar] = nil
    end
    
    local CoreGui = game:GetService("CoreGui")
    local guiName = cfg.name or "PersButton"
    local existingGui = CoreGui:FindFirstChild(guiName)
    if existingGui then existingGui:Destroy() end
    
    local gui = Instance.new("ScreenGui")
    gui.Name = guiName
    gui.ResetOnSpawn = false
    gui.Parent = CoreGui
    
    local btn = Instance.new("TextButton")
    local sizeKey = (cfg.instanceVar or "button") .. "_size"
    
    if getgenv().savedConfig and getgenv().savedConfig[sizeKey] then
        local s = getgenv().savedConfig[sizeKey]
        btn.Size = UDim2.new(s.XScale, s.X.Offset, s.YScale, s.Y.Offset)
    else
        local baseSize = cfg.size or 50
        btn.Size = UDim2.new(0, baseSize * screenScale, 0, baseSize * screenScale)
    end
    
    local saveKey = cfg.saveKey or (cfg.instanceVar or "buttonPos")
    if getgenv().savedConfig and getgenv().savedConfig[saveKey] then
        local p = getgenv().savedConfig[saveKey]
        btn.Position = UDim2.new(p.XScale, p.X.Offset, p.YScale, p.YOffset)
    else
        local basePos = cfg.position or UDim2.new(0.5, -25, 0.5, -25)
        btn.Position = UDim2.new(
            basePos.X.Scale, 
            basePos.X.Offset * screenScale, 
            basePos.Y.Scale, 
            basePos.Y.Offset * screenScale
        )
    end
    
    btn.BackgroundColor3 = theme.FrameContenedor
    btn.BackgroundTransparency = .9
    btn.Text = cfg.text or "Button"
    btn.TextColor3 = cfg.textColor or Color3.fromRGB(255, 255, 255)
    btn.Font = cfg.font or Enum.Font.Gotham
    btn.TextSize = math.floor((cfg.textSize or 7) * screenScale)
    btn.Parent = gui
    
    local borderFrame = Instance.new("Frame")
    borderFrame.Size = UDim2.new(1, 0, 1, 0)
    borderFrame.BackgroundTransparency = 1
    borderFrame.ZIndex = btn.ZIndex + 1
    borderFrame.Parent = btn
    
    local borderStroke = Instance.new("UIStroke")
    borderStroke.Thickness = 2 * screenScale
    borderStroke.Color = theme.bordes
    borderStroke.Transparency = 0.3
    borderStroke.Parent = borderFrame
    
    addCorner(borderFrame, math.floor(9 * screenScale))
    addCorner(btn, math.floor(9 * screenScale))
    
    local clickSound = Instance.new("Sound")
    clickSound.Name = "ClickSound"
    clickSound.SoundId = "rbxassetid://101735926591481"
    clickSound.Volume = 1
    clickSound.Parent = gui
    
    hookSizeSaving(btn, sizeKey)
    
    if cfg.isToggle then
        local configKey = (cfg.instanceVar or "button") .. "_state"
        local savedState = getgenv().savedConfig[configKey]
        local currentState = savedState ~= nil and savedState or (cfg.getState and cfg.getState() or false)
        btn.Text = currentState and (cfg.textOn or "ON") or (cfg.textOff or "OFF")
        btn.MouseButton1Click:Connect(function()
            clickSound:Play()
            if cfg.toggle then cfg.toggle() end
            if cfg.getState then
                local newState = cfg.getState()
                btn.Text = newState and (cfg.textOn or "ON") or (cfg.textOff or "OFF")
                getgenv().savedConfig[configKey] = newState
                getgenv().saveConfig(getgenv().savedConfig)
            end
        end)
    elseif cfg.onClick then
        btn.MouseButton1Click:Connect(function()
            clickSound:Play()
            cfg.onClick()
        end)
    end
    
    if cfg.draggableVarName then
        makeDraggable(btn, saveKey, cfg.draggableVarName)
    end
    
    btn.DestroyButton = function()
        if btn and btn.Parent then
            local parentGui = btn.Parent
            btn:Destroy()
            parentGui:Destroy()
        end
    end
    
    if cfg.instanceVar then getgenv()[cfg.instanceVar] = btn end
    return btn
end
return module